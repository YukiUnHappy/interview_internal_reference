cc.ACTION_TAG_INVALID=-1,cc.Action=cc.Class.extend({originalTarget:null,target:null,tag:cc.ACTION_TAG_INVALID,ctor:function(){this.originalTarget=null,this.target=null,this.tag=cc.ACTION_TAG_INVALID},copy:function(){return cc.log("copy is deprecated. Please use clone instead."),this.clone()},clone:function(){var action=new cc.Action;return action.originalTarget=null,action.target=null,action.tag=this.tag,action},isDone:function(){return!0},startWithTarget:function(target){this.originalTarget=target,this.target=target},stop:function(){this.target=null},step:function(dt){cc.log("[Action step]. override me")},update:function(dt){cc.log("[Action update]. override me")},getTarget:function(){return this.target},setTarget:function(target){this.target=target},getOriginalTarget:function(){return this.originalTarget},setOriginalTarget:function(originalTarget){this.originalTarget=originalTarget},getTag:function(){return this.tag},setTag:function(tag){this.tag=tag},retain:function(){},release:function(){}}),cc.action=function(){return new cc.Action},cc.Action.create=cc.action,cc.FiniteTimeAction=cc.Action.extend({_duration:0,ctor:function(){cc.Action.prototype.ctor.call(this),this._duration=0},getDuration:function(){return this._duration*(this._timesForRepeat||1)},setDuration:function(duration){this._duration=duration},reverse:function(){return cc.log("cocos2d: FiniteTimeAction#reverse: Implement me"),null},clone:function(){return new cc.FiniteTimeAction}}),cc.Speed=cc.Action.extend({_speed:0,_innerAction:null,ctor:function(action,speed){cc.Action.prototype.ctor.call(this),this._speed=0,this._innerAction=null,action&&this.initWithAction(action,speed)},getSpeed:function(){return this._speed},setSpeed:function(speed){this._speed=speed},initWithAction:function(action,speed){if(!action)throw new Error("cc.Speed.initWithAction(): action must be non nil");return this._innerAction=action,this._speed=speed,!0},clone:function(){var action=new cc.Speed;return action.initWithAction(this._innerAction.clone(),this._speed),action},startWithTarget:function(target){cc.Action.prototype.startWithTarget.call(this,target),this._innerAction.startWithTarget(target)},stop:function(){this._innerAction.stop(),cc.Action.prototype.stop.call(this)},step:function(dt){this._innerAction.step(dt*this._speed)},isDone:function(){return this._innerAction.isDone()},reverse:function(){return new cc.Speed(this._innerAction.reverse(),this._speed)},setInnerAction:function(action){this._innerAction!==action&&(this._innerAction=action)},getInnerAction:function(){return this._innerAction}}),cc.speed=function(action,speed){return new cc.Speed(action,speed)},cc.Speed.create=cc.speed,cc.Follow=cc.Action.extend({_followedNode:null,_boundarySet:!1,_boundaryFullyCovered:!1,_halfScreenSize:null,_fullScreenSize:null,_worldRect:null,leftBoundary:0,rightBoundary:0,topBoundary:0,bottomBoundary:0,ctor:function(followedNode,rect){cc.Action.prototype.ctor.call(this),this._followedNode=null,this._boundarySet=!1,this._boundaryFullyCovered=!1,this._halfScreenSize=null,this._fullScreenSize=null,this.leftBoundary=0,this.rightBoundary=0,this.topBoundary=0,this.bottomBoundary=0,this._worldRect=cc.rect(0,0,0,0),followedNode&&(rect?this.initWithTarget(followedNode,rect):this.initWithTarget(followedNode))},clone:function(){var action=new cc.Follow,locRect=this._worldRect,rect=new cc.Rect(locRect.x,locRect.y,locRect.width,locRect.height);return action.initWithTarget(this._followedNode,rect),action},isBoundarySet:function(){return this._boundarySet},setBoudarySet:function(value){this._boundarySet=value},initWithTarget:function(followedNode,rect){if(!followedNode)throw new Error("cc.Follow.initWithAction(): followedNode must be non nil");var _this=this;rect=rect||cc.rect(0,0,0,0),_this._followedNode=followedNode,_this._worldRect=rect,_this._boundarySet=!cc._rectEqualToZero(rect),_this._boundaryFullyCovered=!1;var winSize=cc.director.getWinSize();return _this._fullScreenSize=cc.p(winSize.width,winSize.height),_this._halfScreenSize=cc.pMult(_this._fullScreenSize,.5),_this._boundarySet&&(_this.leftBoundary=-(rect.x+rect.width-_this._fullScreenSize.x),_this.rightBoundary=-rect.x,_this.topBoundary=-rect.y,_this.bottomBoundary=-(rect.y+rect.height-_this._fullScreenSize.y),_this.rightBoundary<_this.leftBoundary&&(_this.rightBoundary=_this.leftBoundary=(_this.leftBoundary+_this.rightBoundary)/2),_this.topBoundary<_this.bottomBoundary&&(_this.topBoundary=_this.bottomBoundary=(_this.topBoundary+_this.bottomBoundary)/2),_this.topBoundary===_this.bottomBoundary&&_this.leftBoundary===_this.rightBoundary&&(_this._boundaryFullyCovered=!0)),!0},step:function(dt){var tempPosX=this._followedNode.x,tempPosY=this._followedNode.y;if(tempPosX=this._halfScreenSize.x-tempPosX,tempPosY=this._halfScreenSize.y-tempPosY,this.target._renderCmd._dirtyFlag=0,this._boundarySet){if(this._boundaryFullyCovered)return;this.target.setPosition(cc.clampf(tempPosX,this.leftBoundary,this.rightBoundary),cc.clampf(tempPosY,this.bottomBoundary,this.topBoundary))}else this.target.setPosition(tempPosX,tempPosY)},isDone:function(){return!this._followedNode.running},stop:function(){this.target=null,cc.Action.prototype.stop.call(this)}}),cc.follow=function(followedNode,rect){return new cc.Follow(followedNode,rect)},cc.Follow.create=cc.follow,cc.ActionInterval=cc.FiniteTimeAction.extend({_elapsed:0,_firstTick:!1,_easeList:null,_timesForRepeat:1,_repeatForever:!1,_repeatMethod:!1,_speed:1,_speedMethod:!1,ctor:function(d){this._speed=1,this._timesForRepeat=1,this._repeatForever=!1,this.MAX_VALUE=2,this._repeatMethod=!1,this._speedMethod=!1,cc.FiniteTimeAction.prototype.ctor.call(this),void 0!==d&&this.initWithDuration(d)},getElapsed:function(){return this._elapsed},initWithDuration:function(d){return this._duration=0===d?cc.FLT_EPSILON:d,this._elapsed=0,this._firstTick=!0,!0},isDone:function(){return this._elapsed>=this._duration},_cloneDecoration:function(action){action._repeatForever=this._repeatForever,action._speed=this._speed,action._timesForRepeat=this._timesForRepeat,action._easeList=this._easeList,action._speedMethod=this._speedMethod,action._repeatMethod=this._repeatMethod},_reverseEaseList:function(action){if(this._easeList){action._easeList=[];for(var i=0;i<this._easeList.length;i++)action._easeList.push(this._easeList[i].reverse())}},clone:function(){var action=new cc.ActionInterval(this._duration);return this._cloneDecoration(action),action},easing:function(easeObj){this._easeList?this._easeList.length=0:this._easeList=[];for(var i=0;i<arguments.length;i++)this._easeList.push(arguments[i]);return this},_computeEaseTime:function(dt){var locList=this._easeList;if(!locList||0===locList.length)return dt;for(var i=0,n=locList.length;i<n;i++)dt=locList[i].easing(dt);return dt},step:function(dt){this._firstTick?(this._firstTick=!1,this._elapsed=0):this._elapsed+=dt;var t=this._elapsed/(this._duration>1.192092896e-7?this._duration:1.192092896e-7);t=1>t?t:1,this.update(t>0?t:0),this._repeatMethod&&this._timesForRepeat>1&&this.isDone()&&(this._repeatForever||this._timesForRepeat--,this.startWithTarget(this.target),this.step(this._elapsed-this._duration))},startWithTarget:function(target){cc.Action.prototype.startWithTarget.call(this,target),this._elapsed=0,this._firstTick=!0},reverse:function(){return cc.log("cc.IntervalAction: reverse not implemented."),null},setAmplitudeRate:function(amp){cc.log("cc.ActionInterval.setAmplitudeRate(): it should be overridden in subclass.")},getAmplitudeRate:function(){return cc.log("cc.ActionInterval.getAmplitudeRate(): it should be overridden in subclass."),0},speed:function(speed){return speed<=0?(cc.log("The speed parameter error"),this):(this._speedMethod=!0,this._speed*=speed,this)},getSpeed:function(){return this._speed},setSpeed:function(speed){return this._speed=speed,this},repeat:function(times){return times=Math.round(times),isNaN(times)||times<1?(cc.log("The repeat parameter error"),this):(this._repeatMethod=!0,this._timesForRepeat*=times,this)},repeatForever:function(){return this._repeatMethod=!0,this._timesForRepeat=this.MAX_VALUE,this._repeatForever=!0,this}}),cc.actionInterval=function(d){return new cc.ActionInterval(d)},cc.ActionInterval.create=cc.actionInterval,cc.Sequence=cc.ActionInterval.extend({_actions:null,_split:null,_last:0,ctor:function(tempArray){cc.ActionInterval.prototype.ctor.call(this),this._actions=[];var paramArray=tempArray instanceof Array?tempArray:arguments,last=paramArray.length-1;if(last>=0&&null==paramArray[last]&&cc.log("parameters should not be ending with null in Javascript"),last>=0){for(var action1,prev=paramArray[0],i=1;i<last;i++)paramArray[i]&&(action1=prev,prev=cc.Sequence._actionOneTwo(action1,paramArray[i]));this.initWithTwoActions(prev,paramArray[last])}},initWithTwoActions:function(actionOne,actionTwo){if(!actionOne||!actionTwo)throw new Error("cc.Sequence.initWithTwoActions(): arguments must all be non nil");var d=actionOne._duration+actionTwo._duration;return this.initWithDuration(d),this._actions[0]=actionOne,this._actions[1]=actionTwo,!0},clone:function(){var action=new cc.Sequence;return this._cloneDecoration(action),action.initWithTwoActions(this._actions[0].clone(),this._actions[1].clone()),action},startWithTarget:function(target){cc.ActionInterval.prototype.startWithTarget.call(this,target),this._split=this._actions[0]._duration/this._duration,this._last=-1},stop:function(){-1!==this._last&&this._actions[this._last].stop(),cc.Action.prototype.stop.call(this)},update:function(dt){var new_t,actionFound,found=0,locSplit=this._split,locActions=this._actions,locLast=this._last;(dt=this._computeEaseTime(dt))<locSplit?(new_t=0!==locSplit?dt/locSplit:1,0===found&&1===locLast&&(locActions[1].update(0),locActions[1].stop())):(found=1,new_t=1===locSplit?1:(dt-locSplit)/(1-locSplit),-1===locLast&&(locActions[0].startWithTarget(this.target),locActions[0].update(1),locActions[0].stop()),locLast||(locActions[0].update(1),locActions[0].stop())),actionFound=locActions[found],locLast===found&&actionFound.isDone()||(locLast!==found&&actionFound.startWithTarget(this.target),new_t*=actionFound._timesForRepeat,actionFound.update(new_t>1?new_t%1:new_t),this._last=found)},reverse:function(){var action=cc.Sequence._actionOneTwo(this._actions[1].reverse(),this._actions[0].reverse());return this._cloneDecoration(action),this._reverseEaseList(action),action}}),cc.sequence=function(tempArray){var paramArray=tempArray instanceof Array?tempArray:arguments;paramArray.length>0&&null==paramArray[paramArray.length-1]&&cc.log("parameters should not be ending with null in Javascript");for(var result,current,i,repeat;paramArray&&paramArray.length>0;)for(repeat=(current=Array.prototype.shift.call(paramArray))._timesForRepeat||1,current._repeatMethod=!1,current._timesForRepeat=1,i=0,result||(result=current,i=1),i;i<repeat;i++)result=cc.Sequence._actionOneTwo(result,current);return result},cc.Sequence.create=cc.sequence,cc.Sequence._actionOneTwo=function(actionOne,actionTwo){var sequence=new cc.Sequence;return sequence.initWithTwoActions(actionOne,actionTwo),sequence},cc.Repeat=cc.ActionInterval.extend({_times:0,_total:0,_nextDt:0,_actionInstant:!1,_innerAction:null,ctor:function(action,times){cc.ActionInterval.prototype.ctor.call(this),void 0!==times&&this.initWithAction(action,times)},initWithAction:function(action,times){var duration=action._duration*times;return!!this.initWithDuration(duration)&&(this._times=times,this._innerAction=action,action instanceof cc.ActionInstant&&(this._actionInstant=!0,this._times-=1),this._total=0,!0)},clone:function(){var action=new cc.Repeat;return this._cloneDecoration(action),action.initWithAction(this._innerAction.clone(),this._times),action},startWithTarget:function(target){this._total=0,this._nextDt=this._innerAction._duration/this._duration,cc.ActionInterval.prototype.startWithTarget.call(this,target),this._innerAction.startWithTarget(target)},stop:function(){this._innerAction.stop(),cc.Action.prototype.stop.call(this)},update:function(dt){dt=this._computeEaseTime(dt);var locInnerAction=this._innerAction,locDuration=this._duration,locTimes=this._times,locNextDt=this._nextDt;if(dt>=locNextDt){for(;dt>locNextDt&&this._total<locTimes;)locInnerAction.update(1),this._total++,locInnerAction.stop(),locInnerAction.startWithTarget(this.target),locNextDt+=locInnerAction._duration/locDuration,this._nextDt=locNextDt;dt>=1&&this._total<locTimes&&this._total++,this._actionInstant||(this._total===locTimes?(locInnerAction.update(1),locInnerAction.stop()):locInnerAction.update(dt-(locNextDt-locInnerAction._duration/locDuration)))}else locInnerAction.update(dt*locTimes%1)},isDone:function(){return this._total===this._times},reverse:function(){var action=new cc.Repeat(this._innerAction.reverse(),this._times);return this._cloneDecoration(action),this._reverseEaseList(action),action},setInnerAction:function(action){this._innerAction!==action&&(this._innerAction=action)},getInnerAction:function(){return this._innerAction}}),cc.repeat=function(action,times){return new cc.Repeat(action,times)},cc.Repeat.create=cc.repeat,cc.RepeatForever=cc.ActionInterval.extend({_innerAction:null,ctor:function(action){cc.ActionInterval.prototype.ctor.call(this),this._innerAction=null,action&&this.initWithAction(action)},initWithAction:function(action){if(!action)throw new Error("cc.RepeatForever.initWithAction(): action must be non null");return this._innerAction=action,!0},clone:function(){var action=new cc.RepeatForever;return this._cloneDecoration(action),action.initWithAction(this._innerAction.clone()),action},startWithTarget:function(target){cc.ActionInterval.prototype.startWithTarget.call(this,target),this._innerAction.startWithTarget(target)},step:function(dt){var locInnerAction=this._innerAction;locInnerAction.step(dt),locInnerAction.isDone()&&(locInnerAction.startWithTarget(this.target),locInnerAction.step(locInnerAction.getElapsed()-locInnerAction._duration))},isDone:function(){return!1},reverse:function(){var action=new cc.RepeatForever(this._innerAction.reverse());return this._cloneDecoration(action),this._reverseEaseList(action),action},setInnerAction:function(action){this._innerAction!==action&&(this._innerAction=action)},getInnerAction:function(){return this._innerAction}}),cc.repeatForever=function(action){return new cc.RepeatForever(action)},cc.RepeatForever.create=cc.repeatForever,cc.Spawn=cc.ActionInterval.extend({_one:null,_two:null,ctor:function(tempArray){cc.ActionInterval.prototype.ctor.call(this),this._one=null,this._two=null;var i,paramArray,last;if(tempArray instanceof Array)paramArray=tempArray;else for(paramArray=new Array(arguments.length),i=0;i<arguments.length;++i)paramArray[i]=arguments[i];if((last=paramArray.length-1)>=0&&null==paramArray[last]&&cc.log("parameters should not be ending with null in Javascript"),last>=0){var action1,prev=paramArray[0];for(i=1;i<last;i++)paramArray[i]&&(action1=prev,prev=cc.Spawn._actionOneTwo(action1,paramArray[i]));this.initWithTwoActions(prev,paramArray[last])}},initWithTwoActions:function(action1,action2){if(!action1||!action2)throw new Error("cc.Spawn.initWithTwoActions(): arguments must all be non null");var ret=!1,d1=action1._duration,d2=action2._duration;return this.initWithDuration(Math.max(d1,d2))&&(this._one=action1,this._two=action2,d1>d2?this._two=cc.Sequence._actionOneTwo(action2,cc.delayTime(d1-d2)):d1<d2&&(this._one=cc.Sequence._actionOneTwo(action1,cc.delayTime(d2-d1))),ret=!0),ret},clone:function(){var action=new cc.Spawn;return this._cloneDecoration(action),action.initWithTwoActions(this._one.clone(),this._two.clone()),action},startWithTarget:function(target){cc.ActionInterval.prototype.startWithTarget.call(this,target),this._one.startWithTarget(target),this._two.startWithTarget(target)},stop:function(){this._one.stop(),this._two.stop(),cc.Action.prototype.stop.call(this)},update:function(dt){dt=this._computeEaseTime(dt),this._one&&this._one.update(dt),this._two&&this._two.update(dt)},reverse:function(){var action=cc.Spawn._actionOneTwo(this._one.reverse(),this._two.reverse());return this._cloneDecoration(action),this._reverseEaseList(action),action}}),cc.spawn=function(tempArray){var paramArray=tempArray instanceof Array?tempArray:arguments;paramArray.length>0&&null==paramArray[paramArray.length-1]&&cc.log("parameters should not be ending with null in Javascript");for(var prev=paramArray[0],i=1;i<paramArray.length;i++)null!=paramArray[i]&&(prev=cc.Spawn._actionOneTwo(prev,paramArray[i]));return prev},cc.Spawn.create=cc.spawn,cc.Spawn._actionOneTwo=function(action1,action2){var pSpawn=new cc.Spawn;return pSpawn.initWithTwoActions(action1,action2),pSpawn},cc.RotateTo=cc.ActionInterval.extend({_dstAngleX:0,_startAngleX:0,_diffAngleX:0,_dstAngleY:0,_startAngleY:0,_diffAngleY:0,ctor:function(duration,deltaAngleX,deltaAngleY){cc.ActionInterval.prototype.ctor.call(this),void 0!==deltaAngleX&&this.initWithDuration(duration,deltaAngleX,deltaAngleY)},initWithDuration:function(duration,deltaAngleX,deltaAngleY){return!!cc.ActionInterval.prototype.initWithDuration.call(this,duration)&&(this._dstAngleX=deltaAngleX||0,this._dstAngleY=deltaAngleY||this._dstAngleX,!0)},clone:function(){var action=new cc.RotateTo;return this._cloneDecoration(action),action.initWithDuration(this._duration,this._dstAngleX,this._dstAngleY),action},startWithTarget:function(target){cc.ActionInterval.prototype.startWithTarget.call(this,target);var locStartAngleX=target.rotationX%360,locDiffAngleX=this._dstAngleX-locStartAngleX;locDiffAngleX>180&&(locDiffAngleX-=360),locDiffAngleX<-180&&(locDiffAngleX+=360),this._startAngleX=locStartAngleX,this._diffAngleX=locDiffAngleX,this._startAngleY=target.rotationY%360;var locDiffAngleY=this._dstAngleY-this._startAngleY;locDiffAngleY>180&&(locDiffAngleY-=360),locDiffAngleY<-180&&(locDiffAngleY+=360),this._diffAngleY=locDiffAngleY},reverse:function(){cc.log("cc.RotateTo.reverse(): it should be overridden in subclass.")},update:function(dt){dt=this._computeEaseTime(dt),this.target&&(this.target.rotationX=this._startAngleX+this._diffAngleX*dt,this.target.rotationY=this._startAngleY+this._diffAngleY*dt)}}),cc.rotateTo=function(duration,deltaAngleX,deltaAngleY){return new cc.RotateTo(duration,deltaAngleX,deltaAngleY)},cc.RotateTo.create=cc.rotateTo,cc.RotateBy=cc.ActionInterval.extend({_angleX:0,_startAngleX:0,_angleY:0,_startAngleY:0,ctor:function(duration,deltaAngleX,deltaAngleY){cc.ActionInterval.prototype.ctor.call(this),void 0!==deltaAngleX&&this.initWithDuration(duration,deltaAngleX,deltaAngleY)},initWithDuration:function(duration,deltaAngleX,deltaAngleY){return!!cc.ActionInterval.prototype.initWithDuration.call(this,duration)&&(this._angleX=deltaAngleX||0,this._angleY=deltaAngleY||this._angleX,!0)},clone:function(){var action=new cc.RotateBy;return this._cloneDecoration(action),action.initWithDuration(this._duration,this._angleX,this._angleY),action},startWithTarget:function(target){cc.ActionInterval.prototype.startWithTarget.call(this,target),this._startAngleX=target.rotationX,this._startAngleY=target.rotationY},update:function(dt){dt=this._computeEaseTime(dt),this.target&&(this.target.rotationX=this._startAngleX+this._angleX*dt,this.target.rotationY=this._startAngleY+this._angleY*dt)},reverse:function(){var action=new cc.RotateBy(this._duration,-this._angleX,-this._angleY);return this._cloneDecoration(action),this._reverseEaseList(action),action}}),cc.rotateBy=function(duration,deltaAngleX,deltaAngleY){return new cc.RotateBy(duration,deltaAngleX,deltaAngleY)},cc.RotateBy.create=cc.rotateBy,cc.MoveBy=cc.ActionInterval.extend({_positionDelta:null,_startPosition:null,_previousPosition:null,ctor:function(duration,deltaPos,deltaY){cc.ActionInterval.prototype.ctor.call(this),this._positionDelta=cc.p(0,0),this._startPosition=cc.p(0,0),this._previousPosition=cc.p(0,0),void 0!==deltaPos&&this.initWithDuration(duration,deltaPos,deltaY)},initWithDuration:function(duration,position,y){return!!cc.ActionInterval.prototype.initWithDuration.call(this,duration)&&(void 0!==position.x&&(y=position.y,position=position.x),this._positionDelta.x=position,this._positionDelta.y=y,!0)},clone:function(){var action=new cc.MoveBy;return this._cloneDecoration(action),action.initWithDuration(this._duration,this._positionDelta),action},startWithTarget:function(target){cc.ActionInterval.prototype.startWithTarget.call(this,target);var locPosX=target.getPositionX(),locPosY=target.getPositionY();this._previousPosition.x=locPosX,this._previousPosition.y=locPosY,this._startPosition.x=locPosX,this._startPosition.y=locPosY},update:function(dt){if(dt=this._computeEaseTime(dt),this.target){var x=this._positionDelta.x*dt,y=this._positionDelta.y*dt,locStartPosition=this._startPosition;if(cc.ENABLE_STACKABLE_ACTIONS){var targetX=this.target.getPositionX(),targetY=this.target.getPositionY(),locPreviousPosition=this._previousPosition;locStartPosition.x=locStartPosition.x+targetX-locPreviousPosition.x,locStartPosition.y=locStartPosition.y+targetY-locPreviousPosition.y,x+=locStartPosition.x,y+=locStartPosition.y,locPreviousPosition.x=x,locPreviousPosition.y=y,this.target.setPosition(x,y)}else this.target.setPosition(locStartPosition.x+x,locStartPosition.y+y)}},reverse:function(){var action=new cc.MoveBy(this._duration,cc.p(-this._positionDelta.x,-this._positionDelta.y));return this._cloneDecoration(action),this._reverseEaseList(action),action}}),cc.moveBy=function(duration,deltaPos,deltaY){return new cc.MoveBy(duration,deltaPos,deltaY)},cc.MoveBy.create=cc.moveBy,cc.MoveTo=cc.MoveBy.extend({_endPosition:null,ctor:function(duration,position,y){cc.MoveBy.prototype.ctor.call(this),this._endPosition=cc.p(0,0),void 0!==position&&this.initWithDuration(duration,position,y)},initWithDuration:function(duration,position,y){return!!cc.MoveBy.prototype.initWithDuration.call(this,duration,position,y)&&(void 0!==position.x&&(y=position.y,position=position.x),this._endPosition.x=position,this._endPosition.y=y,!0)},clone:function(){var action=new cc.MoveTo;return this._cloneDecoration(action),action.initWithDuration(this._duration,this._endPosition),action},startWithTarget:function(target){cc.MoveBy.prototype.startWithTarget.call(this,target),this._positionDelta.x=this._endPosition.x-target.getPositionX(),this._positionDelta.y=this._endPosition.y-target.getPositionY()}}),cc.moveTo=function(duration,position,y){return new cc.MoveTo(duration,position,y)},cc.MoveTo.create=cc.moveTo,cc.SkewTo=cc.ActionInterval.extend({_skewX:0,_skewY:0,_startSkewX:0,_startSkewY:0,_endSkewX:0,_endSkewY:0,_deltaX:0,_deltaY:0,ctor:function(t,sx,sy){cc.ActionInterval.prototype.ctor.call(this),void 0!==sy&&this.initWithDuration(t,sx,sy)},initWithDuration:function(t,sx,sy){var ret=!1;return cc.ActionInterval.prototype.initWithDuration.call(this,t)&&(this._endSkewX=sx,this._endSkewY=sy,ret=!0),ret},clone:function(){var action=new cc.SkewTo;return this._cloneDecoration(action),action.initWithDuration(this._duration,this._endSkewX,this._endSkewY),action},startWithTarget:function(target){cc.ActionInterval.prototype.startWithTarget.call(this,target),this._startSkewX=target.skewX%180,this._deltaX=this._endSkewX-this._startSkewX,this._deltaX>180&&(this._deltaX-=360),this._deltaX<-180&&(this._deltaX+=360),this._startSkewY=target.skewY%360,this._deltaY=this._endSkewY-this._startSkewY,this._deltaY>180&&(this._deltaY-=360),this._deltaY<-180&&(this._deltaY+=360)},update:function(dt){dt=this._computeEaseTime(dt),this.target.skewX=this._startSkewX+this._deltaX*dt,this.target.skewY=this._startSkewY+this._deltaY*dt}}),cc.skewTo=function(t,sx,sy){return new cc.SkewTo(t,sx,sy)},cc.SkewTo.create=cc.skewTo,cc.SkewBy=cc.SkewTo.extend({ctor:function(t,sx,sy){cc.SkewTo.prototype.ctor.call(this),void 0!==sy&&this.initWithDuration(t,sx,sy)},initWithDuration:function(t,deltaSkewX,deltaSkewY){var ret=!1;return cc.SkewTo.prototype.initWithDuration.call(this,t,deltaSkewX,deltaSkewY)&&(this._skewX=deltaSkewX,this._skewY=deltaSkewY,ret=!0),ret},clone:function(){var action=new cc.SkewBy;return this._cloneDecoration(action),action.initWithDuration(this._duration,this._skewX,this._skewY),action},startWithTarget:function(target){cc.SkewTo.prototype.startWithTarget.call(this,target),this._deltaX=this._skewX,this._deltaY=this._skewY,this._endSkewX=this._startSkewX+this._deltaX,this._endSkewY=this._startSkewY+this._deltaY},reverse:function(){var action=new cc.SkewBy(this._duration,-this._skewX,-this._skewY);return this._cloneDecoration(action),this._reverseEaseList(action),action}}),cc.skewBy=function(t,sx,sy){return new cc.SkewBy(t,sx,sy)},cc.SkewBy.create=cc.skewBy,cc.JumpBy=cc.ActionInterval.extend({_startPosition:null,_delta:null,_height:0,_jumps:0,_previousPosition:null,ctor:function(duration,position,y,height,jumps){cc.ActionInterval.prototype.ctor.call(this),this._startPosition=cc.p(0,0),this._previousPosition=cc.p(0,0),this._delta=cc.p(0,0),void 0!==height&&this.initWithDuration(duration,position,y,height,jumps)},initWithDuration:function(duration,position,y,height,jumps){return!!cc.ActionInterval.prototype.initWithDuration.call(this,duration)&&(void 0===jumps&&(jumps=height,height=y,y=position.y,position=position.x),this._delta.x=position,this._delta.y=y,this._height=height,this._jumps=jumps,!0)},clone:function(){var action=new cc.JumpBy;return this._cloneDecoration(action),action.initWithDuration(this._duration,this._delta,this._height,this._jumps),action},startWithTarget:function(target){cc.ActionInterval.prototype.startWithTarget.call(this,target);var locPosX=target.getPositionX(),locPosY=target.getPositionY();this._previousPosition.x=locPosX,this._previousPosition.y=locPosY,this._startPosition.x=locPosX,this._startPosition.y=locPosY},update:function(dt){if(dt=this._computeEaseTime(dt),this.target){var frac=dt*this._jumps%1,y=4*this._height*frac*(1-frac);y+=this._delta.y*dt;var x=this._delta.x*dt,locStartPosition=this._startPosition;if(cc.ENABLE_STACKABLE_ACTIONS){var targetX=this.target.getPositionX(),targetY=this.target.getPositionY(),locPreviousPosition=this._previousPosition;locStartPosition.x=locStartPosition.x+targetX-locPreviousPosition.x,locStartPosition.y=locStartPosition.y+targetY-locPreviousPosition.y,x+=locStartPosition.x,y+=locStartPosition.y,locPreviousPosition.x=x,locPreviousPosition.y=y,this.target.setPosition(x,y)}else this.target.setPosition(locStartPosition.x+x,locStartPosition.y+y)}},reverse:function(){var action=new cc.JumpBy(this._duration,cc.p(-this._delta.x,-this._delta.y),this._height,this._jumps);return this._cloneDecoration(action),this._reverseEaseList(action),action}}),cc.jumpBy=function(duration,position,y,height,jumps){return new cc.JumpBy(duration,position,y,height,jumps)},cc.JumpBy.create=cc.jumpBy,cc.JumpTo=cc.JumpBy.extend({_endPosition:null,ctor:function(duration,position,y,height,jumps){cc.JumpBy.prototype.ctor.call(this),this._endPosition=cc.p(0,0),void 0!==height&&this.initWithDuration(duration,position,y,height,jumps)},initWithDuration:function(duration,position,y,height,jumps){return!!cc.JumpBy.prototype.initWithDuration.call(this,duration,position,y,height,jumps)&&(void 0===jumps&&(y=position.y,position=position.x),this._endPosition.x=position,this._endPosition.y=y,!0)},startWithTarget:function(target){cc.JumpBy.prototype.startWithTarget.call(this,target),this._delta.x=this._endPosition.x-this._startPosition.x,this._delta.y=this._endPosition.y-this._startPosition.y},clone:function(){var action=new cc.JumpTo;return this._cloneDecoration(action),action.initWithDuration(this._duration,this._endPosition,this._height,this._jumps),action}}),cc.jumpTo=function(duration,position,y,height,jumps){return new cc.JumpTo(duration,position,y,height,jumps)},cc.JumpTo.create=cc.jumpTo,cc.bezierAt=function(a,b,c,d,t){return Math.pow(1-t,3)*a+3*t*Math.pow(1-t,2)*b+3*Math.pow(t,2)*(1-t)*c+Math.pow(t,3)*d},cc.BezierBy=cc.ActionInterval.extend({_config:null,_startPosition:null,_previousPosition:null,ctor:function(t,c){cc.ActionInterval.prototype.ctor.call(this),this._config=[],this._startPosition=cc.p(0,0),this._previousPosition=cc.p(0,0),c&&this.initWithDuration(t,c)},initWithDuration:function(t,c){return!!cc.ActionInterval.prototype.initWithDuration.call(this,t)&&(this._config=c,!0)},clone:function(){var action=new cc.BezierBy;this._cloneDecoration(action);for(var newConfigs=[],i=0;i<this._config.length;i++){var selConf=this._config[i];newConfigs.push(cc.p(selConf.x,selConf.y))}return action.initWithDuration(this._duration,newConfigs),action},startWithTarget:function(target){cc.ActionInterval.prototype.startWithTarget.call(this,target);var locPosX=target.getPositionX(),locPosY=target.getPositionY();this._previousPosition.x=locPosX,this._previousPosition.y=locPosY,this._startPosition.x=locPosX,this._startPosition.y=locPosY},update:function(dt){if(dt=this._computeEaseTime(dt),this.target){var locConfig=this._config,xb=locConfig[0].x,xc=locConfig[1].x,xd=locConfig[2].x,yb=locConfig[0].y,yc=locConfig[1].y,yd=locConfig[2].y,x=cc.bezierAt(0,xb,xc,xd,dt),y=cc.bezierAt(0,yb,yc,yd,dt),locStartPosition=this._startPosition;if(cc.ENABLE_STACKABLE_ACTIONS){var targetX=this.target.getPositionX(),targetY=this.target.getPositionY(),locPreviousPosition=this._previousPosition;locStartPosition.x=locStartPosition.x+targetX-locPreviousPosition.x,locStartPosition.y=locStartPosition.y+targetY-locPreviousPosition.y,x+=locStartPosition.x,y+=locStartPosition.y,locPreviousPosition.x=x,locPreviousPosition.y=y,this.target.setPosition(x,y)}else this.target.setPosition(locStartPosition.x+x,locStartPosition.y+y)}},reverse:function(){var locConfig=this._config,r=[cc.pAdd(locConfig[1],cc.pNeg(locConfig[2])),cc.pAdd(locConfig[0],cc.pNeg(locConfig[2])),cc.pNeg(locConfig[2])],action=new cc.BezierBy(this._duration,r);return this._cloneDecoration(action),this._reverseEaseList(action),action}}),cc.bezierBy=function(t,c){return new cc.BezierBy(t,c)},cc.BezierBy.create=cc.bezierBy,cc.BezierTo=cc.BezierBy.extend({_toConfig:null,ctor:function(t,c){cc.BezierBy.prototype.ctor.call(this),this._toConfig=[],c&&this.initWithDuration(t,c)},initWithDuration:function(t,c){return!!cc.ActionInterval.prototype.initWithDuration.call(this,t)&&(this._toConfig=c,!0)},clone:function(){var action=new cc.BezierTo;return this._cloneDecoration(action),action.initWithDuration(this._duration,this._toConfig),action},startWithTarget:function(target){cc.BezierBy.prototype.startWithTarget.call(this,target);var locStartPos=this._startPosition,locToConfig=this._toConfig,locConfig=this._config;locConfig[0]=cc.pSub(locToConfig[0],locStartPos),locConfig[1]=cc.pSub(locToConfig[1],locStartPos),locConfig[2]=cc.pSub(locToConfig[2],locStartPos)}}),cc.bezierTo=function(t,c){return new cc.BezierTo(t,c)},cc.BezierTo.create=cc.bezierTo,cc.ScaleTo=cc.ActionInterval.extend({_scaleX:1,_scaleY:1,_startScaleX:1,_startScaleY:1,_endScaleX:0,_endScaleY:0,_deltaX:0,_deltaY:0,ctor:function(duration,sx,sy){cc.ActionInterval.prototype.ctor.call(this),void 0!==sx&&this.initWithDuration(duration,sx,sy)},initWithDuration:function(duration,sx,sy){return!!cc.ActionInterval.prototype.initWithDuration.call(this,duration)&&(this._endScaleX=sx,this._endScaleY=null!=sy?sy:sx,!0)},clone:function(){var action=new cc.ScaleTo;return this._cloneDecoration(action),action.initWithDuration(this._duration,this._endScaleX,this._endScaleY),action},startWithTarget:function(target){cc.ActionInterval.prototype.startWithTarget.call(this,target),this._startScaleX=target.scaleX,this._startScaleY=target.scaleY,this._deltaX=this._endScaleX-this._startScaleX,this._deltaY=this._endScaleY-this._startScaleY},update:function(dt){dt=this._computeEaseTime(dt),this.target&&(this.target.scaleX=this._startScaleX+this._deltaX*dt,this.target.scaleY=this._startScaleY+this._deltaY*dt)}}),cc.scaleTo=function(duration,sx,sy){return new cc.ScaleTo(duration,sx,sy)},cc.ScaleTo.create=cc.scaleTo,cc.ScaleBy=cc.ScaleTo.extend({startWithTarget:function(target){cc.ScaleTo.prototype.startWithTarget.call(this,target),this._deltaX=this._startScaleX*this._endScaleX-this._startScaleX,this._deltaY=this._startScaleY*this._endScaleY-this._startScaleY},reverse:function(){var action=new cc.ScaleBy(this._duration,1/this._endScaleX,1/this._endScaleY);return this._cloneDecoration(action),this._reverseEaseList(action),action},clone:function(){var action=new cc.ScaleBy;return this._cloneDecoration(action),action.initWithDuration(this._duration,this._endScaleX,this._endScaleY),action}}),cc.scaleBy=function(duration,sx,sy){return new cc.ScaleBy(duration,sx,sy)},cc.ScaleBy.create=cc.scaleBy,cc.Blink=cc.ActionInterval.extend({_times:0,_originalState:!1,ctor:function(duration,blinks){cc.ActionInterval.prototype.ctor.call(this),void 0!==blinks&&this.initWithDuration(duration,blinks)},initWithDuration:function(duration,blinks){return!!cc.ActionInterval.prototype.initWithDuration.call(this,duration)&&(this._times=blinks,!0)},clone:function(){var action=new cc.Blink;return this._cloneDecoration(action),action.initWithDuration(this._duration,this._times),action},update:function(dt){if(dt=this._computeEaseTime(dt),this.target&&!this.isDone()){var slice=1/this._times,m=dt%slice;this.target.visible=m>slice/2}},startWithTarget:function(target){cc.ActionInterval.prototype.startWithTarget.call(this,target),this._originalState=target.visible},stop:function(){this.target.visible=this._originalState,cc.ActionInterval.prototype.stop.call(this)},reverse:function(){var action=new cc.Blink(this._duration,this._times);return this._cloneDecoration(action),this._reverseEaseList(action),action}}),cc.blink=function(duration,blinks){return new cc.Blink(duration,blinks)},cc.Blink.create=cc.blink,cc.FadeTo=cc.ActionInterval.extend({_toOpacity:0,_fromOpacity:0,ctor:function(duration,opacity){cc.ActionInterval.prototype.ctor.call(this),void 0!==opacity&&this.initWithDuration(duration,opacity)},initWithDuration:function(duration,opacity){return!!cc.ActionInterval.prototype.initWithDuration.call(this,duration)&&(this._toOpacity=opacity,!0)},clone:function(){var action=new cc.FadeTo;return this._cloneDecoration(action),action.initWithDuration(this._duration,this._toOpacity),action},update:function(time){time=this._computeEaseTime(time);var fromOpacity=void 0!==this._fromOpacity?this._fromOpacity:255;this.target.opacity=fromOpacity+(this._toOpacity-fromOpacity)*time},startWithTarget:function(target){cc.ActionInterval.prototype.startWithTarget.call(this,target),this._fromOpacity=target.opacity}}),cc.fadeTo=function(duration,opacity){return new cc.FadeTo(duration,opacity)},cc.FadeTo.create=cc.fadeTo,cc.FadeIn=cc.FadeTo.extend({_reverseAction:null,ctor:function(duration){cc.FadeTo.prototype.ctor.call(this),null==duration&&(duration=0),this.initWithDuration(duration,255)},reverse:function(){var action=new cc.FadeOut;return action.initWithDuration(this._duration,0),this._cloneDecoration(action),this._reverseEaseList(action),action},clone:function(){var action=new cc.FadeIn;return this._cloneDecoration(action),action.initWithDuration(this._duration,this._toOpacity),action},startWithTarget:function(target){this._reverseAction&&(this._toOpacity=this._reverseAction._fromOpacity),cc.FadeTo.prototype.startWithTarget.call(this,target)}}),cc.fadeIn=function(duration){return new cc.FadeIn(duration)},cc.FadeIn.create=cc.fadeIn,cc.FadeOut=cc.FadeTo.extend({ctor:function(duration){cc.FadeTo.prototype.ctor.call(this),null==duration&&(duration=0),this.initWithDuration(duration,0)},reverse:function(){var action=new cc.FadeIn;return action._reverseAction=this,action.initWithDuration(this._duration,255),this._cloneDecoration(action),this._reverseEaseList(action),action},clone:function(){var action=new cc.FadeOut;return this._cloneDecoration(action),action.initWithDuration(this._duration,this._toOpacity),action}}),cc.fadeOut=function(d){return new cc.FadeOut(d)},cc.FadeOut.create=cc.fadeOut,cc.TintTo=cc.ActionInterval.extend({_to:null,_from:null,ctor:function(duration,red,green,blue){cc.ActionInterval.prototype.ctor.call(this),this._to=cc.color(0,0,0),this._from=cc.color(0,0,0),void 0!==blue&&this.initWithDuration(duration,red,green,blue)},initWithDuration:function(duration,red,green,blue){return!!cc.ActionInterval.prototype.initWithDuration.call(this,duration)&&(this._to=cc.color(red,green,blue),!0)},clone:function(){var action=new cc.TintTo;this._cloneDecoration(action);var locTo=this._to;return action.initWithDuration(this._duration,locTo.r,locTo.g,locTo.b),action},startWithTarget:function(target){cc.ActionInterval.prototype.startWithTarget.call(this,target),this._from=this.target.color},update:function(dt){dt=this._computeEaseTime(dt);var locFrom=this._from,locTo=this._to;locFrom&&this.target.setColor(cc.color(locFrom.r+(locTo.r-locFrom.r)*dt,locFrom.g+(locTo.g-locFrom.g)*dt,locFrom.b+(locTo.b-locFrom.b)*dt))}}),cc.tintTo=function(duration,red,green,blue){return new cc.TintTo(duration,red,green,blue)},cc.TintTo.create=cc.tintTo,cc.TintBy=cc.ActionInterval.extend({_deltaR:0,_deltaG:0,_deltaB:0,_fromR:0,_fromG:0,_fromB:0,ctor:function(duration,deltaRed,deltaGreen,deltaBlue){cc.ActionInterval.prototype.ctor.call(this),void 0!==deltaBlue&&this.initWithDuration(duration,deltaRed,deltaGreen,deltaBlue)},initWithDuration:function(duration,deltaRed,deltaGreen,deltaBlue){return!!cc.ActionInterval.prototype.initWithDuration.call(this,duration)&&(this._deltaR=deltaRed,this._deltaG=deltaGreen,this._deltaB=deltaBlue,!0)},clone:function(){var action=new cc.TintBy;return this._cloneDecoration(action),action.initWithDuration(this._duration,this._deltaR,this._deltaG,this._deltaB),action},startWithTarget:function(target){cc.ActionInterval.prototype.startWithTarget.call(this,target);var color=target.color;this._fromR=color.r,this._fromG=color.g,this._fromB=color.b},update:function(dt){dt=this._computeEaseTime(dt),this.target.color=cc.color(this._fromR+this._deltaR*dt,this._fromG+this._deltaG*dt,this._fromB+this._deltaB*dt)},reverse:function(){var action=new cc.TintBy(this._duration,-this._deltaR,-this._deltaG,-this._deltaB);return this._cloneDecoration(action),this._reverseEaseList(action),action}}),cc.tintBy=function(duration,deltaRed,deltaGreen,deltaBlue){return new cc.TintBy(duration,deltaRed,deltaGreen,deltaBlue)},cc.TintBy.create=cc.tintBy,cc.DelayTime=cc.ActionInterval.extend({update:function(dt){},reverse:function(){var action=new cc.DelayTime(this._duration);return this._cloneDecoration(action),this._reverseEaseList(action),action},clone:function(){var action=new cc.DelayTime;return this._cloneDecoration(action),action.initWithDuration(this._duration),action}}),cc.delayTime=function(d){return new cc.DelayTime(d)},cc.DelayTime.create=cc.delayTime,cc.ReverseTime=cc.ActionInterval.extend({_other:null,ctor:function(action){cc.ActionInterval.prototype.ctor.call(this),this._other=null,action&&this.initWithAction(action)},initWithAction:function(action){if(!action)throw new Error("cc.ReverseTime.initWithAction(): action must be non null");if(action===this._other)throw new Error("cc.ReverseTime.initWithAction(): the action was already passed in.");return!!cc.ActionInterval.prototype.initWithDuration.call(this,action._duration)&&(this._other=action,!0)},clone:function(){var action=new cc.ReverseTime;return this._cloneDecoration(action),action.initWithAction(this._other.clone()),action},startWithTarget:function(target){cc.ActionInterval.prototype.startWithTarget.call(this,target),this._other.startWithTarget(target)},update:function(dt){dt=this._computeEaseTime(dt),this._other&&this._other.update(1-dt)},reverse:function(){return this._other.clone()},stop:function(){this._other.stop(),cc.Action.prototype.stop.call(this)}}),cc.reverseTime=function(action){return new cc.ReverseTime(action)},cc.ReverseTime.create=cc.reverseTime,cc.Animate=cc.ActionInterval.extend({_animation:null,_nextFrame:0,_origFrame:null,_executedLoops:0,_splitTimes:null,_currFrameIndex:0,ctor:function(animation){cc.ActionInterval.prototype.ctor.call(this),this._splitTimes=[],animation&&this.initWithAnimation(animation)},getAnimation:function(){return this._animation},setAnimation:function(animation){this._animation=animation},getCurrentFrameIndex:function(){return this._currFrameIndex},initWithAnimation:function(animation){if(!animation)throw new Error("cc.Animate.initWithAnimation(): animation must be non-NULL");var singleDuration=animation.getDuration();if(this.initWithDuration(singleDuration*animation.getLoops())){this._nextFrame=0,this.setAnimation(animation),this._origFrame=null,this._executedLoops=0;var locTimes=this._splitTimes;locTimes.length=0;var accumUnitsOfTime=0,newUnitOfTimeValue=singleDuration/animation.getTotalDelayUnits(),frames=animation.getFrames();cc.arrayVerifyType(frames,cc.AnimationFrame);for(var i=0;i<frames.length;i++){var value=accumUnitsOfTime*newUnitOfTimeValue/singleDuration;accumUnitsOfTime+=frames[i].getDelayUnits(),locTimes.push(value)}return!0}return!1},clone:function(){var action=new cc.Animate;return this._cloneDecoration(action),action.initWithAnimation(this._animation.clone()),action},startWithTarget:function(target){cc.ActionInterval.prototype.startWithTarget.call(this,target),this._animation.getRestoreOriginalFrame()&&(this._origFrame=target.getSpriteFrame()),this._nextFrame=0,this._executedLoops=0},update:function(dt){(dt=this._computeEaseTime(dt))<1&&((0|(dt*=this._animation.getLoops()))>this._executedLoops&&(this._nextFrame=0,this._executedLoops++),dt%=1);for(var frames=this._animation.getFrames(),numberOfFrames=frames.length,locSplitTimes=this._splitTimes,i=this._nextFrame;i<numberOfFrames&&locSplitTimes[i]<=dt;i++)_currFrameIndex=i,this.target.setSpriteFrame(frames[_currFrameIndex].getSpriteFrame()),this._nextFrame=i+1},reverse:function(){var locAnimation=this._animation,oldArray=locAnimation.getFrames(),newArray=[];if(cc.arrayVerifyType(oldArray,cc.AnimationFrame),oldArray.length>0)for(var i=oldArray.length-1;i>=0;i--){var element=oldArray[i];if(!element)break;newArray.push(element.clone())}var newAnim=new cc.Animation(newArray,locAnimation.getDelayPerUnit(),locAnimation.getLoops());newAnim.setRestoreOriginalFrame(locAnimation.getRestoreOriginalFrame());var action=new cc.Animate(newAnim);return this._cloneDecoration(action),this._reverseEaseList(action),action},stop:function(){this._animation.getRestoreOriginalFrame()&&this.target&&this.target.setSpriteFrame(this._origFrame),cc.Action.prototype.stop.call(this)}}),cc.animate=function(animation){return new cc.Animate(animation)},cc.Animate.create=cc.animate,cc.TargetedAction=cc.ActionInterval.extend({_action:null,_forcedTarget:null,ctor:function(target,action){cc.ActionInterval.prototype.ctor.call(this),action&&this.initWithTarget(target,action)},initWithTarget:function(target,action){return!!this.initWithDuration(action._duration)&&(this._forcedTarget=target,this._action=action,!0)},clone:function(){var action=new cc.TargetedAction;return this._cloneDecoration(action),action.initWithTarget(this._forcedTarget,this._action.clone()),action},startWithTarget:function(target){cc.ActionInterval.prototype.startWithTarget.call(this,target),this._action.startWithTarget(this._forcedTarget)},stop:function(){this._action.stop()},update:function(dt){dt=this._computeEaseTime(dt),this._action.update(dt)},getForcedTarget:function(){return this._forcedTarget},setForcedTarget:function(forcedTarget){this._forcedTarget!==forcedTarget&&(this._forcedTarget=forcedTarget)}}),cc.targetedAction=function(target,action){return new cc.TargetedAction(target,action)},cc.TargetedAction.create=cc.targetedAction,cc.ActionInstant=cc.FiniteTimeAction.extend({isDone:function(){return!0},step:function(dt){this.update(1)},update:function(dt){},reverse:function(){return this.clone()},clone:function(){return new cc.ActionInstant}}),cc.Show=cc.ActionInstant.extend({update:function(dt){this.target.visible=!0},reverse:function(){return new cc.Hide},clone:function(){return new cc.Show}}),cc.show=function(){return new cc.Show},cc.Show.create=cc.show,cc.Hide=cc.ActionInstant.extend({update:function(dt){this.target.visible=!1},reverse:function(){return new cc.Show},clone:function(){return new cc.Hide}}),cc.hide=function(){return new cc.Hide},cc.Hide.create=cc.hide,cc.ToggleVisibility=cc.ActionInstant.extend({update:function(dt){this.target.visible=!this.target.visible},reverse:function(){return new cc.ToggleVisibility},clone:function(){return new cc.ToggleVisibility}}),cc.toggleVisibility=function(){return new cc.ToggleVisibility},cc.ToggleVisibility.create=cc.toggleVisibility,cc.RemoveSelf=cc.ActionInstant.extend({_isNeedCleanUp:!0,ctor:function(isNeedCleanUp){cc.FiniteTimeAction.prototype.ctor.call(this),void 0!==isNeedCleanUp&&this.init(isNeedCleanUp)},update:function(dt){this.target.removeFromParent(this._isNeedCleanUp)},init:function(isNeedCleanUp){return this._isNeedCleanUp=isNeedCleanUp,!0},reverse:function(){return new cc.RemoveSelf(this._isNeedCleanUp)},clone:function(){return new cc.RemoveSelf(this._isNeedCleanUp)}}),cc.removeSelf=function(isNeedCleanUp){return new cc.RemoveSelf(isNeedCleanUp)},cc.RemoveSelf.create=cc.removeSelf,cc.FlipX=cc.ActionInstant.extend({_flippedX:!1,ctor:function(flip){cc.FiniteTimeAction.prototype.ctor.call(this),this._flippedX=!1,void 0!==flip&&this.initWithFlipX(flip)},initWithFlipX:function(flip){return this._flippedX=flip,!0},update:function(dt){this.target.flippedX=this._flippedX},reverse:function(){return new cc.FlipX(!this._flippedX)},clone:function(){var action=new cc.FlipX;return action.initWithFlipX(this._flippedX),action}}),cc.flipX=function(flip){return new cc.FlipX(flip)},cc.FlipX.create=cc.flipX,cc.FlipY=cc.ActionInstant.extend({_flippedY:!1,ctor:function(flip){cc.FiniteTimeAction.prototype.ctor.call(this),this._flippedY=!1,void 0!==flip&&this.initWithFlipY(flip)},initWithFlipY:function(flip){return this._flippedY=flip,!0},update:function(dt){this.target.flippedY=this._flippedY},reverse:function(){return new cc.FlipY(!this._flippedY)},clone:function(){var action=new cc.FlipY;return action.initWithFlipY(this._flippedY),action}}),cc.flipY=function(flip){return new cc.FlipY(flip)},cc.FlipY.create=cc.flipY,cc.Place=cc.ActionInstant.extend({_x:0,_y:0,ctor:function(pos,y){cc.FiniteTimeAction.prototype.ctor.call(this),this._x=0,this._y=0,void 0!==pos&&(void 0!==pos.x&&(y=pos.y,pos=pos.x),this.initWithPosition(pos,y))},initWithPosition:function(x,y){return this._x=x,this._y=y,!0},update:function(dt){this.target.setPosition(this._x,this._y)},clone:function(){var action=new cc.Place;return action.initWithPosition(this._x,this._y),action}}),cc.place=function(pos,y){return new cc.Place(pos,y)},cc.Place.create=cc.place,cc.CallFunc=cc.ActionInstant.extend({_selectorTarget:null,_function:null,_data:null,ctor:function(selector,selectorTarget,data){cc.FiniteTimeAction.prototype.ctor.call(this),this.initWithFunction(selector,selectorTarget,data)},initWithFunction:function(selector,selectorTarget,data){return selector&&(this._function=selector),selectorTarget&&(this._selectorTarget=selectorTarget),void 0!==data&&(this._data=data),!0},execute:function(){this._function&&this._function.call(this._selectorTarget,this.target,this._data)},update:function(dt){this.execute()},getTargetCallback:function(){return this._selectorTarget},setTargetCallback:function(sel){sel!==this._selectorTarget&&(this._selectorTarget&&(this._selectorTarget=null),this._selectorTarget=sel)},clone:function(){var action=new cc.CallFunc;return action.initWithFunction(this._function,this._selectorTarget,this._data),action}}),cc.callFunc=function(selector,selectorTarget,data){return new cc.CallFunc(selector,selectorTarget,data)},cc.CallFunc.create=cc.callFunc,cc.ActionEase=cc.ActionInterval.extend({_inner:null,ctor:function(action){cc.ActionInterval.prototype.ctor.call(this),action&&this.initWithAction(action)},initWithAction:function(action){if(!action)throw new Error("cc.ActionEase.initWithAction(): action must be non nil");return!!this.initWithDuration(action.getDuration())&&(this._inner=action,!0)},clone:function(){var action=new cc.ActionEase;return action.initWithAction(this._inner.clone()),action},startWithTarget:function(target){cc.ActionInterval.prototype.startWithTarget.call(this,target),this._inner.startWithTarget(this.target)},stop:function(){this._inner.stop(),cc.ActionInterval.prototype.stop.call(this)},update:function(dt){this._inner.update(dt)},reverse:function(){return new cc.ActionEase(this._inner.reverse())},getInnerAction:function(){return this._inner}}),cc.actionEase=function(action){return new cc.ActionEase(action)},cc.ActionEase.create=cc.actionEase,cc.EaseRateAction=cc.ActionEase.extend({_rate:0,ctor:function(action,rate){cc.ActionEase.prototype.ctor.call(this),void 0!==rate&&this.initWithAction(action,rate)},setRate:function(rate){this._rate=rate},getRate:function(){return this._rate},initWithAction:function(action,rate){return!!cc.ActionEase.prototype.initWithAction.call(this,action)&&(this._rate=rate,!0)},clone:function(){var action=new cc.EaseRateAction;return action.initWithAction(this._inner.clone(),this._rate),action},reverse:function(){return new cc.EaseRateAction(this._inner.reverse(),1/this._rate)}}),cc.easeRateAction=function(action,rate){return new cc.EaseRateAction(action,rate)},cc.EaseRateAction.create=cc.easeRateAction,cc.EaseIn=cc.EaseRateAction.extend({update:function(dt){this._inner.update(Math.pow(dt,this._rate))},reverse:function(){return new cc.EaseIn(this._inner.reverse(),1/this._rate)},clone:function(){var action=new cc.EaseIn;return action.initWithAction(this._inner.clone(),this._rate),action}}),cc.EaseIn.create=function(action,rate){return new cc.EaseIn(action,rate)},cc.easeIn=function(rate){return{_rate:rate,easing:function(dt){return Math.pow(dt,this._rate)},reverse:function(){return cc.easeIn(1/this._rate)}}},cc.EaseOut=cc.EaseRateAction.extend({update:function(dt){this._inner.update(Math.pow(dt,1/this._rate))},reverse:function(){return new cc.EaseOut(this._inner.reverse(),1/this._rate)},clone:function(){var action=new cc.EaseOut;return action.initWithAction(this._inner.clone(),this._rate),action}}),cc.EaseOut.create=function(action,rate){return new cc.EaseOut(action,rate)},cc.easeOut=function(rate){return{_rate:rate,easing:function(dt){return Math.pow(dt,1/this._rate)},reverse:function(){return cc.easeOut(1/this._rate)}}},cc.EaseInOut=cc.EaseRateAction.extend({update:function(dt){(dt*=2)<1?this._inner.update(.5*Math.pow(dt,this._rate)):this._inner.update(1-.5*Math.pow(2-dt,this._rate))},clone:function(){var action=new cc.EaseInOut;return action.initWithAction(this._inner.clone(),this._rate),action},reverse:function(){return new cc.EaseInOut(this._inner.reverse(),this._rate)}}),cc.EaseInOut.create=function(action,rate){return new cc.EaseInOut(action,rate)},cc.easeInOut=function(rate){return{_rate:rate,easing:function(dt){return(dt*=2)<1?.5*Math.pow(dt,this._rate):1-.5*Math.pow(2-dt,this._rate)},reverse:function(){return cc.easeInOut(this._rate)}}},cc.EaseExponentialIn=cc.ActionEase.extend({update:function(dt){this._inner.update(0===dt?0:Math.pow(2,10*(dt-1)))},reverse:function(){return new cc.EaseExponentialOut(this._inner.reverse())},clone:function(){var action=new cc.EaseExponentialIn;return action.initWithAction(this._inner.clone()),action}}),cc.EaseExponentialIn.create=function(action){return new cc.EaseExponentialIn(action)},cc._easeExponentialInObj={easing:function(dt){return 0===dt?0:Math.pow(2,10*(dt-1))},reverse:function(){return cc._easeExponentialOutObj}},cc.easeExponentialIn=function(){return cc._easeExponentialInObj},cc.EaseExponentialOut=cc.ActionEase.extend({update:function(dt){this._inner.update(1===dt?1:1-Math.pow(2,-10*dt))},reverse:function(){return new cc.EaseExponentialIn(this._inner.reverse())},clone:function(){var action=new cc.EaseExponentialOut;return action.initWithAction(this._inner.clone()),action}}),cc.EaseExponentialOut.create=function(action){return new cc.EaseExponentialOut(action)},cc._easeExponentialOutObj={easing:function(dt){return 1===dt?1:1-Math.pow(2,-10*dt)},reverse:function(){return cc._easeExponentialInObj}},cc.easeExponentialOut=function(){return cc._easeExponentialOutObj},cc.EaseExponentialInOut=cc.ActionEase.extend({update:function(dt){1!==dt&&0!==dt&&(dt=(dt*=2)<1?.5*Math.pow(2,10*(dt-1)):.5*(2-Math.pow(2,-10*(dt-1)))),this._inner.update(dt)},reverse:function(){return new cc.EaseExponentialInOut(this._inner.reverse())},clone:function(){var action=new cc.EaseExponentialInOut;return action.initWithAction(this._inner.clone()),action}}),cc.EaseExponentialInOut.create=function(action){return new cc.EaseExponentialInOut(action)},cc._easeExponentialInOutObj={easing:function(dt){return 1!==dt&&0!==dt?(dt*=2)<1?.5*Math.pow(2,10*(dt-1)):.5*(2-Math.pow(2,-10*(dt-1))):dt},reverse:function(){return cc._easeExponentialInOutObj}},cc.easeExponentialInOut=function(){return cc._easeExponentialInOutObj},cc.EaseSineIn=cc.ActionEase.extend({update:function(dt){dt=0===dt||1===dt?dt:-1*Math.cos(dt*Math.PI/2)+1,this._inner.update(dt)},reverse:function(){return new cc.EaseSineOut(this._inner.reverse())},clone:function(){var action=new cc.EaseSineIn;return action.initWithAction(this._inner.clone()),action}}),cc.EaseSineIn.create=function(action){return new cc.EaseSineIn(action)},cc._easeSineInObj={easing:function(dt){return 0===dt||1===dt?dt:-1*Math.cos(dt*Math.PI/2)+1},reverse:function(){return cc._easeSineOutObj}},cc.easeSineIn=function(){return cc._easeSineInObj},cc.EaseSineOut=cc.ActionEase.extend({update:function(dt){dt=0===dt||1===dt?dt:Math.sin(dt*Math.PI/2),this._inner.update(dt)},reverse:function(){return new cc.EaseSineIn(this._inner.reverse())},clone:function(){var action=new cc.EaseSineOut;return action.initWithAction(this._inner.clone()),action}}),cc.EaseSineOut.create=function(action){return new cc.EaseSineOut(action)},cc._easeSineOutObj={easing:function(dt){return 0===dt||1===dt?dt:Math.sin(dt*Math.PI/2)},reverse:function(){return cc._easeSineInObj}},cc.easeSineOut=function(){return cc._easeSineOutObj},cc.EaseSineInOut=cc.ActionEase.extend({update:function(dt){dt=0===dt||1===dt?dt:-.5*(Math.cos(Math.PI*dt)-1),this._inner.update(dt)},clone:function(){var action=new cc.EaseSineInOut;return action.initWithAction(this._inner.clone()),action},reverse:function(){return new cc.EaseSineInOut(this._inner.reverse())}}),cc.EaseSineInOut.create=function(action){return new cc.EaseSineInOut(action)},cc._easeSineInOutObj={easing:function(dt){return 0===dt||1===dt?dt:-.5*(Math.cos(Math.PI*dt)-1)},reverse:function(){return cc._easeSineInOutObj}},cc.easeSineInOut=function(){return cc._easeSineInOutObj},cc.EaseElastic=cc.ActionEase.extend({_period:.3,ctor:function(action,period){cc.ActionEase.prototype.ctor.call(this),action&&this.initWithAction(action,period)},getPeriod:function(){return this._period},setPeriod:function(period){this._period=period},initWithAction:function(action,period){return cc.ActionEase.prototype.initWithAction.call(this,action),this._period=null==period?.3:period,!0},reverse:function(){return cc.log("cc.EaseElastic.reverse(): it should be overridden in subclass."),null},clone:function(){var action=new cc.EaseElastic;return action.initWithAction(this._inner.clone(),this._period),action}}),cc.EaseElastic.create=function(action,period){return new cc.EaseElastic(action,period)},cc.EaseElasticIn=cc.EaseElastic.extend({update:function(dt){var newT=0;if(0===dt||1===dt)newT=dt;else{var s=this._period/4;dt-=1,newT=-Math.pow(2,10*dt)*Math.sin((dt-s)*Math.PI*2/this._period)}this._inner.update(newT)},reverse:function(){return new cc.EaseElasticOut(this._inner.reverse(),this._period)},clone:function(){var action=new cc.EaseElasticIn;return action.initWithAction(this._inner.clone(),this._period),action}}),cc.EaseElasticIn.create=function(action,period){return new cc.EaseElasticIn(action,period)},cc._easeElasticInObj={easing:function(dt){return 0===dt||1===dt?dt:(dt-=1,-Math.pow(2,10*dt)*Math.sin((dt-.075)*Math.PI*2/.3))},reverse:function(){return cc._easeElasticOutObj}},cc.easeElasticIn=function(period){return period&&.3!==period?{_period:period,easing:function(dt){return 0===dt||1===dt?dt:(dt-=1,-Math.pow(2,10*dt)*Math.sin((dt-this._period/4)*Math.PI*2/this._period))},reverse:function(){return cc.easeElasticOut(this._period)}}:cc._easeElasticInObj},cc.EaseElasticOut=cc.EaseElastic.extend({update:function(dt){var newT=0;if(0===dt||1===dt)newT=dt;else{var s=this._period/4;newT=Math.pow(2,-10*dt)*Math.sin((dt-s)*Math.PI*2/this._period)+1}this._inner.update(newT)},reverse:function(){return new cc.EaseElasticIn(this._inner.reverse(),this._period)},clone:function(){var action=new cc.EaseElasticOut;return action.initWithAction(this._inner.clone(),this._period),action}}),cc.EaseElasticOut.create=function(action,period){return new cc.EaseElasticOut(action,period)},cc._easeElasticOutObj={easing:function(dt){return 0===dt||1===dt?dt:Math.pow(2,-10*dt)*Math.sin((dt-.075)*Math.PI*2/.3)+1},reverse:function(){return cc._easeElasticInObj}},cc.easeElasticOut=function(period){return period&&.3!==period?{_period:period,easing:function(dt){return 0===dt||1===dt?dt:Math.pow(2,-10*dt)*Math.sin((dt-this._period/4)*Math.PI*2/this._period)+1},reverse:function(){return cc.easeElasticIn(this._period)}}:cc._easeElasticOutObj},cc.EaseElasticInOut=cc.EaseElastic.extend({update:function(dt){var newT=0,locPeriod=this._period;if(0===dt||1===dt)newT=dt;else{dt*=2,locPeriod||(locPeriod=this._period=.3*1.5);var s=locPeriod/4;newT=(dt-=1)<0?-.5*Math.pow(2,10*dt)*Math.sin((dt-s)*Math.PI*2/locPeriod):Math.pow(2,-10*dt)*Math.sin((dt-s)*Math.PI*2/locPeriod)*.5+1}this._inner.update(newT)},reverse:function(){return new cc.EaseElasticInOut(this._inner.reverse(),this._period)},clone:function(){var action=new cc.EaseElasticInOut;return action.initWithAction(this._inner.clone(),this._period),action}}),cc.EaseElasticInOut.create=function(action,period){return new cc.EaseElasticInOut(action,period)},cc.easeElasticInOut=function(period){return period=period||.3,{_period:period,easing:function(dt){var newT=0,locPeriod=this._period;if(0===dt||1===dt)newT=dt;else{dt*=2,locPeriod||(locPeriod=this._period=.3*1.5);var s=locPeriod/4;newT=(dt-=1)<0?-.5*Math.pow(2,10*dt)*Math.sin((dt-s)*Math.PI*2/locPeriod):Math.pow(2,-10*dt)*Math.sin((dt-s)*Math.PI*2/locPeriod)*.5+1}return newT},reverse:function(){return cc.easeElasticInOut(this._period)}}},cc.EaseBounce=cc.ActionEase.extend({bounceTime:function(time1){return time1<1/2.75?7.5625*time1*time1:time1<2/2.75?7.5625*(time1-=1.5/2.75)*time1+.75:time1<2.5/2.75?7.5625*(time1-=2.25/2.75)*time1+.9375:7.5625*(time1-=2.625/2.75)*time1+.984375},clone:function(){var action=new cc.EaseBounce;return action.initWithAction(this._inner.clone()),action},reverse:function(){return new cc.EaseBounce(this._inner.reverse())}}),cc.EaseBounce.create=function(action){return new cc.EaseBounce(action)},cc.EaseBounceIn=cc.EaseBounce.extend({update:function(dt){var newT=1-this.bounceTime(1-dt);this._inner.update(newT)},reverse:function(){return new cc.EaseBounceOut(this._inner.reverse())},clone:function(){var action=new cc.EaseBounceIn;return action.initWithAction(this._inner.clone()),action}}),cc.EaseBounceIn.create=function(action){return new cc.EaseBounceIn(action)},cc._bounceTime=function(time1){return time1<1/2.75?7.5625*time1*time1:time1<2/2.75?7.5625*(time1-=1.5/2.75)*time1+.75:time1<2.5/2.75?7.5625*(time1-=2.25/2.75)*time1+.9375:7.5625*(time1-=2.625/2.75)*time1+.984375},cc._easeBounceInObj={easing:function(dt){return 1-cc._bounceTime(1-dt)},reverse:function(){return cc._easeBounceOutObj}},cc.easeBounceIn=function(){return cc._easeBounceInObj},cc.EaseBounceOut=cc.EaseBounce.extend({update:function(dt){var newT=this.bounceTime(dt);this._inner.update(newT)},reverse:function(){return new cc.EaseBounceIn(this._inner.reverse())},clone:function(){var action=new cc.EaseBounceOut;return action.initWithAction(this._inner.clone()),action}}),cc.EaseBounceOut.create=function(action){return new cc.EaseBounceOut(action)},cc._easeBounceOutObj={easing:function(dt){return cc._bounceTime(dt)},reverse:function(){return cc._easeBounceInObj}},cc.easeBounceOut=function(){return cc._easeBounceOutObj},cc.EaseBounceInOut=cc.EaseBounce.extend({update:function(dt){var newT=0;dt<.5?(dt*=2,newT=.5*(1-this.bounceTime(1-dt))):newT=.5*this.bounceTime(2*dt-1)+.5,this._inner.update(newT)},clone:function(){var action=new cc.EaseBounceInOut;return action.initWithAction(this._inner.clone()),action},reverse:function(){return new cc.EaseBounceInOut(this._inner.reverse())}}),cc.EaseBounceInOut.create=function(action){return new cc.EaseBounceInOut(action)},cc._easeBounceInOutObj={easing:function(time1){var newT;return time1<.5?(time1*=2,newT=.5*(1-cc._bounceTime(1-time1))):newT=.5*cc._bounceTime(2*time1-1)+.5,newT},reverse:function(){return cc._easeBounceInOutObj}},cc.easeBounceInOut=function(){return cc._easeBounceInOutObj},cc.EaseBackIn=cc.ActionEase.extend({update:function(dt){dt=0===dt||1===dt?dt:dt*dt*(2.70158*dt-1.70158),this._inner.update(dt)},reverse:function(){return new cc.EaseBackOut(this._inner.reverse())},clone:function(){var action=new cc.EaseBackIn;return action.initWithAction(this._inner.clone()),action}}),cc.EaseBackIn.create=function(action){return new cc.EaseBackIn(action)},cc._easeBackInObj={easing:function(time1){return 0===time1||1===time1?time1:time1*time1*(2.70158*time1-1.70158)},reverse:function(){return cc._easeBackOutObj}},cc.easeBackIn=function(){return cc._easeBackInObj},cc.EaseBackOut=cc.ActionEase.extend({update:function(dt){dt-=1,this._inner.update(dt*dt*(2.70158*dt+1.70158)+1)},reverse:function(){return new cc.EaseBackIn(this._inner.reverse())},clone:function(){var action=new cc.EaseBackOut;return action.initWithAction(this._inner.clone()),action}}),cc.EaseBackOut.create=function(action){return new cc.EaseBackOut(action)},cc._easeBackOutObj={easing:function(time1){return(time1-=1)*time1*(2.70158*time1+1.70158)+1},reverse:function(){return cc._easeBackInObj}},cc.easeBackOut=function(){return cc._easeBackOutObj},cc.EaseBackInOut=cc.ActionEase.extend({update:function(dt){(dt*=2)<1?this._inner.update(dt*dt*(3.5949095*dt-2.5949095)/2):(dt-=2,this._inner.update(dt*dt*(3.5949095*dt+2.5949095)/2+1))},clone:function(){var action=new cc.EaseBackInOut;return action.initWithAction(this._inner.clone()),action},reverse:function(){return new cc.EaseBackInOut(this._inner.reverse())}}),cc.EaseBackInOut.create=function(action){return new cc.EaseBackInOut(action)},cc._easeBackInOutObj={easing:function(time1){return(time1*=2)<1?time1*time1*(3.5949095*time1-2.5949095)/2:(time1-=2)*time1*(3.5949095*time1+2.5949095)/2+1},reverse:function(){return cc._easeBackInOutObj}},cc.easeBackInOut=function(){return cc._easeBackInOutObj},cc.EaseBezierAction=cc.ActionEase.extend({_p0:null,_p1:null,_p2:null,_p3:null,ctor:function(action){cc.ActionEase.prototype.ctor.call(this,action)},_updateTime:function(a,b,c,d,t){return Math.pow(1-t,3)*a+3*t*Math.pow(1-t,2)*b+3*Math.pow(t,2)*(1-t)*c+Math.pow(t,3)*d},update:function(dt){var t=this._updateTime(this._p0,this._p1,this._p2,this._p3,dt);this._inner.update(t)},clone:function(){var action=new cc.EaseBezierAction;return action.initWithAction(this._inner.clone()),action.setBezierParamer(this._p0,this._p1,this._p2,this._p3),action},reverse:function(){var action=new cc.EaseBezierAction(this._inner.reverse());return action.setBezierParamer(this._p3,this._p2,this._p1,this._p0),action},setBezierParamer:function(p0,p1,p2,p3){this._p0=p0||0,this._p1=p1||0,this._p2=p2||0,this._p3=p3||0}}),cc.EaseBezierAction.create=function(action){return new cc.EaseBezierAction(action)},cc.easeBezierAction=function(p0,p1,p2,p3){return{easing:function(time){return cc.EaseBezierAction.prototype._updateTime(p0,p1,p2,p3,time)},reverse:function(){return cc.easeBezierAction(p3,p2,p1,p0)}}},cc.EaseQuadraticActionIn=cc.ActionEase.extend({_updateTime:function(time){return Math.pow(time,2)},update:function(dt){this._inner.update(this._updateTime(dt))},clone:function(){var action=new cc.EaseQuadraticActionIn;return action.initWithAction(this._inner.clone()),action},reverse:function(){return new cc.EaseQuadraticActionIn(this._inner.reverse())}}),cc.EaseQuadraticActionIn.create=function(action){return new cc.EaseQuadraticActionIn(action)},cc._easeQuadraticActionIn={easing:cc.EaseQuadraticActionIn.prototype._updateTime,reverse:function(){return cc._easeQuadraticActionIn}},cc.easeQuadraticActionIn=function(){return cc._easeQuadraticActionIn},cc.EaseQuadraticActionOut=cc.ActionEase.extend({_updateTime:function(time){return-time*(time-2)},update:function(dt){this._inner.update(this._updateTime(dt))},clone:function(){var action=new cc.EaseQuadraticActionOut;return action.initWithAction(),action},reverse:function(){return new cc.EaseQuadraticActionOut(this._inner.reverse())}}),cc.EaseQuadraticActionOut.create=function(action){return new cc.EaseQuadraticActionOut(action)},cc._easeQuadraticActionOut={easing:cc.EaseQuadraticActionOut.prototype._updateTime,reverse:function(){return cc._easeQuadraticActionOut}},cc.easeQuadraticActionOut=function(){return cc._easeQuadraticActionOut},cc.EaseQuadraticActionInOut=cc.ActionEase.extend({_updateTime:function(time){return time*=2,time<1?time*time*.5:-.5*(--time*(time-2)-1)},update:function(dt){this._inner.update(this._updateTime(dt))},clone:function(){var action=new cc.EaseQuadraticActionInOut;return action.initWithAction(this._inner.clone()),action},reverse:function(){return new cc.EaseQuadraticActionInOut(this._inner.reverse())}}),cc.EaseQuadraticActionInOut.create=function(action){return new cc.EaseQuadraticActionInOut(action)},cc._easeQuadraticActionInOut={easing:cc.EaseQuadraticActionInOut.prototype._updateTime,reverse:function(){return cc._easeQuadraticActionInOut}},cc.easeQuadraticActionInOut=function(){return cc._easeQuadraticActionInOut},cc.EaseQuarticActionIn=cc.ActionEase.extend({_updateTime:function(time){return time*time*time*time},update:function(dt){this._inner.update(this._updateTime(dt))},clone:function(){var action=new cc.EaseQuarticActionIn;return action.initWithAction(this._inner.clone()),action},reverse:function(){return new cc.EaseQuarticActionIn(this._inner.reverse())}}),cc.EaseQuarticActionIn.create=function(action){return new cc.EaseQuarticActionIn(action)},cc._easeQuarticActionIn={easing:cc.EaseQuarticActionIn.prototype._updateTime,reverse:function(){return cc._easeQuarticActionIn}},cc.easeQuarticActionIn=function(){return cc._easeQuarticActionIn},cc.EaseQuarticActionOut=cc.ActionEase.extend({_updateTime:function(time){return-((time-=1)*time*time*time-1)},update:function(dt){this._inner.update(this._updateTime(dt))},clone:function(){var action=new cc.EaseQuarticActionOut;return action.initWithAction(this._inner.clone()),action},reverse:function(){return new cc.EaseQuarticActionOut(this._inner.reverse())}}),cc.EaseQuarticActionOut.create=function(action){return new cc.EaseQuarticActionOut(action)},cc._easeQuarticActionOut={easing:cc.EaseQuarticActionOut.prototype._updateTime,reverse:function(){return cc._easeQuarticActionOut}},cc.easeQuarticActionOut=function(){return cc._easeQuarticActionOut},cc.EaseQuarticActionInOut=cc.ActionEase.extend({_updateTime:function(time){return(time*=2)<1?.5*time*time*time*time:-.5*((time-=2)*time*time*time-2)},update:function(dt){this._inner.update(this._updateTime(dt))},clone:function(){var action=new cc.EaseQuarticActionInOut;return action.initWithAction(this._inner.clone()),action},reverse:function(){return new cc.EaseQuarticActionInOut(this._inner.reverse())}}),cc.EaseQuarticActionInOut.create=function(action){return new cc.EaseQuarticActionInOut(action)},cc._easeQuarticActionInOut={easing:cc.EaseQuarticActionInOut.prototype._updateTime,reverse:function(){return cc._easeQuarticActionInOut}},cc.easeQuarticActionInOut=function(){return cc._easeQuarticActionInOut},cc.EaseQuinticActionIn=cc.ActionEase.extend({_updateTime:function(time){return time*time*time*time*time},update:function(dt){this._inner.update(this._updateTime(dt))},clone:function(){var action=new cc.EaseQuinticActionIn;return action.initWithAction(this._inner.clone()),action},reverse:function(){return new cc.EaseQuinticActionIn(this._inner.reverse())}}),cc.EaseQuinticActionIn.create=function(action){return new cc.EaseQuinticActionIn(action)},cc._easeQuinticActionIn={easing:cc.EaseQuinticActionIn.prototype._updateTime,reverse:function(){return cc._easeQuinticActionIn}},cc.easeQuinticActionIn=function(){return cc._easeQuinticActionIn},cc.EaseQuinticActionOut=cc.ActionEase.extend({_updateTime:function(time){return(time-=1)*time*time*time*time+1},update:function(dt){this._inner.update(this._updateTime(dt))},clone:function(){var action=new cc.EaseQuinticActionOut;return action.initWithAction(this._inner.clone()),action},reverse:function(){return new cc.EaseQuinticActionOut(this._inner.reverse())}}),cc.EaseQuinticActionOut.create=function(action){return new cc.EaseQuinticActionOut(action)},cc._easeQuinticActionOut={easing:cc.EaseQuinticActionOut.prototype._updateTime,reverse:function(){return cc._easeQuinticActionOut}},cc.easeQuinticActionOut=function(){return cc._easeQuinticActionOut},cc.EaseQuinticActionInOut=cc.ActionEase.extend({_updateTime:function(time){return(time*=2)<1?.5*time*time*time*time*time:.5*((time-=2)*time*time*time*time+2)},update:function(dt){this._inner.update(this._updateTime(dt))},clone:function(){var action=new cc.EaseQuinticActionInOut;return action.initWithAction(this._inner.clone()),action},reverse:function(){return new cc.EaseQuinticActionInOut(this._inner.reverse())}}),cc.EaseQuinticActionInOut.create=function(action){return new cc.EaseQuinticActionInOut(action)},cc._easeQuinticActionInOut={easing:cc.EaseQuinticActionInOut.prototype._updateTime,reverse:function(){return cc._easeQuinticActionInOut}},cc.easeQuinticActionInOut=function(){return cc._easeQuinticActionInOut},cc.EaseCircleActionIn=cc.ActionEase.extend({_updateTime:function(time){return-1*(Math.sqrt(1-time*time)-1)},update:function(dt){this._inner.update(this._updateTime(dt))},clone:function(){var action=new cc.EaseCircleActionIn;return action.initWithAction(this._inner.clone()),action},reverse:function(){return new cc.EaseCircleActionIn(this._inner.reverse())}}),cc.EaseCircleActionIn.create=function(action){return new cc.EaseCircleActionIn(action)},cc._easeCircleActionIn={easing:cc.EaseCircleActionIn.prototype._updateTime,reverse:function(){return cc._easeCircleActionIn}},cc.easeCircleActionIn=function(){return cc._easeCircleActionIn},cc.EaseCircleActionOut=cc.ActionEase.extend({_updateTime:function(time){return time-=1,Math.sqrt(1-time*time)},update:function(dt){this._inner.update(this._updateTime(dt))},clone:function(){var action=new cc.EaseCircleActionOut;return action.initWithAction(this._inner.clone()),action},reverse:function(){return new cc.EaseCircleActionOut(this._inner.reverse())}}),cc.EaseCircleActionOut.create=function(action){return new cc.EaseCircleActionOut(action)},cc._easeCircleActionOut={easing:cc.EaseCircleActionOut.prototype._updateTime,reverse:function(){return cc._easeCircleActionOut}},cc.easeCircleActionOut=function(){return cc._easeCircleActionOut},cc.EaseCircleActionInOut=cc.ActionEase.extend({_updateTime:function(time){return(time*=2)<1?-.5*(Math.sqrt(1-time*time)-1):(time-=2,.5*(Math.sqrt(1-time*time)+1))},update:function(dt){this._inner.update(this._updateTime(dt))},clone:function(){var action=new cc.EaseCircleActionInOut;return action.initWithAction(this._inner.clone()),action},reverse:function(){return new cc.EaseCircleActionInOut(this._inner.reverse())}}),cc.EaseCircleActionInOut.create=function(action){return new cc.EaseCircleActionInOut(action)},cc._easeCircleActionInOut={easing:cc.EaseCircleActionInOut.prototype._updateTime,reverse:function(){return cc._easeCircleActionInOut}},cc.easeCircleActionInOut=function(){return cc._easeCircleActionInOut},cc.EaseCubicActionIn=cc.ActionEase.extend({_updateTime:function(time){return time*time*time},update:function(dt){this._inner.update(this._updateTime(dt))},clone:function(){var action=new cc.EaseCubicActionIn;return action.initWithAction(this._inner.clone()),action},reverse:function(){return new cc.EaseCubicActionIn(this._inner.reverse())}}),cc.EaseCubicActionIn.create=function(action){return new cc.EaseCubicActionIn(action)},cc._easeCubicActionIn={easing:cc.EaseCubicActionIn.prototype._updateTime,reverse:function(){return cc._easeCubicActionIn}},cc.easeCubicActionIn=function(){return cc._easeCubicActionIn},cc.EaseCubicActionOut=cc.ActionEase.extend({_updateTime:function(time){return(time-=1)*time*time+1},update:function(dt){this._inner.update(this._updateTime(dt))},clone:function(){var action=new cc.EaseCubicActionOut;return action.initWithAction(this._inner.clone()),action},reverse:function(){return new cc.EaseCubicActionOut(this._inner.reverse())}}),cc.EaseCubicActionOut.create=function(action){return new cc.EaseCubicActionOut(action)},cc._easeCubicActionOut={easing:cc.EaseCubicActionOut.prototype._updateTime,reverse:function(){return cc._easeCubicActionOut}},cc.easeCubicActionOut=function(){return cc._easeCubicActionOut},cc.EaseCubicActionInOut=cc.ActionEase.extend({_updateTime:function(time){return(time*=2)<1?.5*time*time*time:.5*((time-=2)*time*time+2)},update:function(dt){this._inner.update(this._updateTime(dt))},clone:function(){var action=new cc.EaseCubicActionInOut;return action.initWithAction(this._inner.clone()),action},reverse:function(){return new cc.EaseCubicActionInOut(this._inner.reverse())}}),cc.EaseCubicActionInOut.create=function(action){return new cc.EaseCubicActionInOut(action)},cc._easeCubicActionInOut={easing:cc.EaseCubicActionInOut.prototype._updateTime,reverse:function(){return cc._easeCubicActionInOut}},cc.easeCubicActionInOut=function(){return cc._easeCubicActionInOut},cc.cardinalSplineAt=function(p0,p1,p2,p3,tension,t,out){var t2=t*t,t3=t2*t,s=(1-tension)/2,b1=s*(2*t2-t3-t),b2=s*(-t3+t2)+(2*t3-3*t2+1),b3=s*(t3-2*t2+t)+(-2*t3+3*t2),b4=s*(t3-t2),x=p0.x*b1+p1.x*b2+p2.x*b3+p3.x*b4,y=p0.y*b1+p1.y*b2+p2.y*b3+p3.y*b4;if(void 0===out)return cc.p(x,y);out.x=x,out.y=y},cc.reverseControlPoints=function(controlPoints){for(var newArray=[],i=controlPoints.length-1;i>=0;i--)newArray.push(cc.p(controlPoints[i].x,controlPoints[i].y));return newArray},cc.cloneControlPoints=function(controlPoints){for(var newArray=[],i=0;i<controlPoints.length;i++)newArray.push(cc.p(controlPoints[i].x,controlPoints[i].y));return newArray},cc.copyControlPoints=cc.cloneControlPoints,cc.getControlPointAt=function(controlPoints,pos){return controlPoints[Math.min(controlPoints.length-1,Math.max(pos,0))]},cc.reverseControlPointsInline=function(controlPoints){for(var len=controlPoints.length,mid=0|len/2,i=0;i<mid;++i){var temp=controlPoints[i];controlPoints[i]=controlPoints[len-i-1],controlPoints[len-i-1]=temp}},cc.CardinalSplineTo=cc.ActionInterval.extend({_points:null,_deltaT:0,_tension:0,_previousPosition:null,_accumulatedDiff:null,ctor:function(duration,points,tension){cc.ActionInterval.prototype.ctor.call(this),this._points=[],void 0!==tension&&this.initWithDuration(duration,points,tension)},initWithDuration:function(duration,points,tension){if(!points||0===points.length)throw new Error("Invalid configuration. It must at least have one control point");return!!cc.ActionInterval.prototype.initWithDuration.call(this,duration)&&(this.setPoints(points),this._tension=tension,!0)},clone:function(){var action=new cc.CardinalSplineTo;return action.initWithDuration(this._duration,cc.copyControlPoints(this._points),this._tension),action},startWithTarget:function(target){cc.ActionInterval.prototype.startWithTarget.call(this,target),this._deltaT=1/(this._points.length-1),this._previousPosition=cc.p(this.target.getPositionX(),this.target.getPositionY()),this._accumulatedDiff=cc.p(0,0)},update:function(dt){dt=this._computeEaseTime(dt);var p,lt,ps=this._points;if(1===dt)p=ps.length-1,lt=1;else{var locDT=this._deltaT;lt=(dt-locDT*(p=0|dt/locDT))/locDT}var newPos=cc.cardinalSplineAt(cc.getControlPointAt(ps,p-1),cc.getControlPointAt(ps,p-0),cc.getControlPointAt(ps,p+1),cc.getControlPointAt(ps,p+2),this._tension,lt);if(cc.ENABLE_STACKABLE_ACTIONS){var tempX,tempY;if(tempX=this.target.getPositionX()-this._previousPosition.x,tempY=this.target.getPositionY()-this._previousPosition.y,0!==tempX||0!==tempY){var locAccDiff=this._accumulatedDiff;tempX=locAccDiff.x+tempX,tempY=locAccDiff.y+tempY,locAccDiff.x=tempX,locAccDiff.y=tempY,newPos.x+=tempX,newPos.y+=tempY}}this.updatePosition(newPos)},reverse:function(){var reversePoints=cc.reverseControlPoints(this._points);return cc.cardinalSplineTo(this._duration,reversePoints,this._tension)},updatePosition:function(newPos){this.target.setPosition(newPos),this._previousPosition=newPos},getPoints:function(){return this._points},setPoints:function(points){this._points=points}}),cc.cardinalSplineTo=function(duration,points,tension){return new cc.CardinalSplineTo(duration,points,tension)},cc.CardinalSplineTo.create=cc.cardinalSplineTo,cc.CardinalSplineBy=cc.CardinalSplineTo.extend({_startPosition:null,ctor:function(duration,points,tension){cc.CardinalSplineTo.prototype.ctor.call(this),this._startPosition=cc.p(0,0),void 0!==tension&&this.initWithDuration(duration,points,tension)},startWithTarget:function(target){cc.CardinalSplineTo.prototype.startWithTarget.call(this,target),this._startPosition.x=target.getPositionX(),this._startPosition.y=target.getPositionY()},reverse:function(){for(var current,copyConfig=this._points.slice(),p=copyConfig[0],i=1;i<copyConfig.length;++i)current=copyConfig[i],copyConfig[i]=cc.pSub(current,p),p=current;var reverseArray=cc.reverseControlPoints(copyConfig);p=reverseArray[reverseArray.length-1],reverseArray.pop(),p.x=-p.x,p.y=-p.y,reverseArray.unshift(p);for(i=1;i<reverseArray.length;++i)(current=reverseArray[i]).x=-current.x,current.y=-current.y,current.x+=p.x,current.y+=p.y,reverseArray[i]=current,p=current;return cc.cardinalSplineBy(this._duration,reverseArray,this._tension)},updatePosition:function(newPos){var pos=this._startPosition,posX=newPos.x+pos.x,posY=newPos.y+pos.y;this._previousPosition.x=posX,this._previousPosition.y=posY,this.target.setPosition(posX,posY)},clone:function(){var a=new cc.CardinalSplineBy;return a.initWithDuration(this._duration,cc.copyControlPoints(this._points),this._tension),a}}),cc.cardinalSplineBy=function(duration,points,tension){return new cc.CardinalSplineBy(duration,points,tension)},cc.CardinalSplineBy.create=cc.cardinalSplineBy,cc.CatmullRomTo=cc.CardinalSplineTo.extend({ctor:function(dt,points){points&&this.initWithDuration(dt,points)},initWithDuration:function(dt,points){return cc.CardinalSplineTo.prototype.initWithDuration.call(this,dt,points,.5)},clone:function(){var action=new cc.CatmullRomTo;return action.initWithDuration(this._duration,cc.copyControlPoints(this._points)),action}}),cc.catmullRomTo=function(dt,points){return new cc.CatmullRomTo(dt,points)},cc.CatmullRomTo.create=cc.catmullRomTo,cc.CatmullRomBy=cc.CardinalSplineBy.extend({ctor:function(dt,points){cc.CardinalSplineBy.prototype.ctor.call(this),points&&this.initWithDuration(dt,points)},initWithDuration:function(dt,points){return cc.CardinalSplineTo.prototype.initWithDuration.call(this,dt,points,.5)},clone:function(){var action=new cc.CatmullRomBy;return action.initWithDuration(this._duration,cc.copyControlPoints(this._points)),action}}),cc.catmullRomBy=function(dt,points){return new cc.CatmullRomBy(dt,points)},cc.CatmullRomBy.create=cc.catmullRomBy,cc.ActionTweenDelegate=cc.Class.extend({updateTweenAction:function(value,key){}}),cc.ActionTween=cc.ActionInterval.extend({key:"",from:0,to:0,delta:0,ctor:function(duration,key,from,to){cc.ActionInterval.prototype.ctor.call(this),this.key="",void 0!==to&&this.initWithDuration(duration,key,from,to)},initWithDuration:function(duration,key,from,to){return!!cc.ActionInterval.prototype.initWithDuration.call(this,duration)&&(this.key=key,this.to=to,this.from=from,!0)},startWithTarget:function(target){if(!target||!target.updateTweenAction)throw new Error("cc.ActionTween.startWithTarget(): target must be non-null, and target must implement updateTweenAction function");cc.ActionInterval.prototype.startWithTarget.call(this,target),this.delta=this.to-this.from},update:function(dt){this.target.updateTweenAction(this.to-this.delta*(1-dt),this.key)},reverse:function(){return new cc.ActionTween(this.duration,this.key,this.to,this.from)},clone:function(){var action=new cc.ActionTween;return action.initWithDuration(this._duration,this.key,this.from,this.to),action}}),cc.actionTween=function(duration,key,from,to){return new cc.ActionTween(duration,key,from,to)},cc.ActionTween.create=cc.actionTween;