var battle=battle||{},BATTLE_ATTACK_SPEED_CONST=2475,DASH_DISTANCE=200,ADVANCE_ATTACK_BUF_RATE=30,ELEMENT_ATTACK_BUF_RATE=50,AUDIO_EFFECT_PITCH=1,AUDIO_EFFECT_PAN=0,AUDIO_EFFECT_GAIN=.7,DAILY_BOSS_BOTTOM_SCALE=1.7,REVISION_POS_Y=100,TEAM_SKILL_COOLTIME=1,TEAM_GENERAL_Y_INTERVAL=50,MAX_COMBO_COUNT=3,UPDATE_SCHEDULE_INTERVAL=.55,PVP_TROOPS_NUMBER=1,STAGE_CLEAR_WAIT_TIME=.5,STAGE_LOSE_WAIT_TIME=1,ZOOM_SCALE_VALUE=4,SCENE_TYPE_ATTACK=1,SCENE_TYPE_TRANSITION=2,SCENE_TYPE_SHAKE=3,APPEAR_TYPE_FADE_IN=1,APPEAR_TYPE_SHAKE=2,APPEAR_TYPE_BOMB=3,DISAPPEAR_TYPE_FADE_OUT=1,DISAPPEAR_TYPE_ALPHA_OUT=3,ATTACK_TYPE_CUT=1,ATTACK_TYPE_STRING=2,ATTACK_TYPE_FIST=3,ATTACK_TYPE_ARROW=4,ATTACK_TYPE_UP_DOWN=5,ATTACK_DURATION=.3,APPEAR_DURATION=.5,DISAPPEAR_DURATION=.5,COLLISION_TIME=.1,PROGRESS_DURATION=.4,FIRST_CUT_IN_DELAY_TIME=1,DIM_FADE_TIME=.2,BODY_FIRST_DELAY=.2,BODY_MOVE_TIME=.2,BODY_OUT_DELAY=.2,BODY_DELAY_TIME=1.2,LIFE_GAUGE_WIDTH=92,BATTLE_TIME_SCALE_2X=(SCENE_TYPE_ATTACK=1,SCENE_TYPE_TRANSITION=2,SCENE_TYPE_SHAKE=3,APPEAR_TYPE_FADE_IN=1,APPEAR_TYPE_SHAKE=2,APPEAR_TYPE_BOMB=3,DISAPPEAR_TYPE_FADE_OUT=1,DISAPPEAR_TYPE_ALPHA_OUT=3,ATTACK_TYPE_CUT=1,ATTACK_TYPE_STRING=2,ATTACK_TYPE_FIST=3,ATTACK_TYPE_ARROW=4,ATTACK_TYPE_UP_DOWN=5,ATTACK_DURATION=.3,APPEAR_DURATION=.5,DISAPPEAR_DURATION=.5,1.5),BATTLE_TIME_SCALE_1X=1,FREEZE_YUBI_GROUP=203,NEED_JADE_TO_CONTINUE=1,LAYER_ORDER_MAGIC_GROUND=-4,LAYER_ORDER_BUF_DEBUF_GROUND=-3,LAYER_ORDER_AURA=-2,LAYER_ORDER_DIRTY=-1,LAYER_ORDER_SKELETON=0,LAYER_ORDER_STATE_TRANSITION=1,LAYER_ORDER_LIFE_BAR=2,LAYER_ORDER_HIT_EFFECT=3,LAYER_ORDER_PERSNAL_SKILL_EFFECT=4,LAYER_ORDER_DAMAGE_POINT=5,FX_POS_BAR=1,FX_POS_BASE=2,FX_POS_CENTER=3,FX_POS_HEAD_BACKWARD=4,FX_POS_HEAD_FORWARD=5,FX_POS_TOP=6,FX_Animation={FX_GRADE_0:0,FX_GRADE_1:1,FX_GRADE_2:2,FX_GRADE_3:3,FX_GRADE_4:4,FX_GRADE_5:5,FX_GRADE_6:6,FX_END:7},ActionType={Basic:0,Basic_Idle:1,Attack_Idle:2,Add_Idle:3,Loop:4,Loop_Off:5,Attack_1:6,Attack_2:7,Attack_3:8,Skill:9,Skill_1:10,Skill_2:11,Skill_3:12,Skill_Enemy:13,Stun:14,Sleep:15,Win:16,Run:17,Back:18,Dash:19,DeathAction:20,Damage_Once:21,Damage_Time:22,Attack_Idle_Track:23,Death:24},TIME_INC_TYPE={TIME_INC:1,TIME_DEC:2},LAYER_Z_ORDER={ZORDER_DIM:0,ZORDER_CLIPPER:1,ZORDER_SKILL_FRAME:50,ZORDER_SKILL_FRAME_LIGHT:60,ZORDER_SKILL_FRAME_PARTICLE:70,ZORDER_BODY:100,ZORDER_BODY_FRAME_COVER:110,ZORDER_SKILL_BG:190,ZORDER_SKILL_NAME:200,ZORDER_SKILL_CHARGE:300},BattleMessageDirection={Left:1,Right:2},BattleSceneFlag={battle_show_loading:98e4,battle_hide_loading:980001,battle_ui_loading:980002,battle_hide_loading_none_ui:980003,battle_prologue_direct_ready:980004,battle_prologue_direct_start:980005,battle_prologue_direct_finish:980006,battle_vs_start:980100,battle_vs_stage_1:980101,battle_vs_stage_2:980102,battle_vs_stage_3:980103,battle_vs_hide:980104,battle_stop_timer:980105,battle_vs_next_stage:980106,battle_vs_new_stage:980107,battle_cutin_warning_show:980108,battle_cutin_warning_after_new_stage:980109,battle_cutin_complete_show:980110,battle_cutin_limit_time_out:980111,battle_cutin_complete_show_end:980112,battle_cutin_failed_show_end:980113,battle_cutin_failed_away_end:980114,battle_appeared_general:980115,battle_script_occured_before:980150,battle_script_occured_before_end:980151,battle_script_occured_after:980152,battle_script_occured_after_end:980153,prologue_script_after_skip:980154,battle_auto_skill_change_value:980155,battle_skill_cut_in:980500,battle_skill_cut_out:980501,menu_battle_pause:981e3,menu_battle_resume:981001,menu_battle_drop:981002,menu_battle_session_overlap_pause:981003,menu_result_retry:982e3,menu_result_story_map:982001,menu_result_yh_mng:982002,menu_result_ok:982003,menu_result_next_mission:982004,menu_result_link_play:982005,menu_result_mussang_retry:982100,menu_result_mussang_to_map:982101,menu_result_weekly_continue:982200,menu_result_weekly_retry:982201,menu_result_weekly_to_map:982202,menu_result_marathon_continue:982300,menu_result_marathon_retry:982301,menu_result_marathon_to_map:982302,menu_result_event_dungeon_continue:982400,menu_result_event_dungeon_retry:982401,menu_result_event_dungeon_to_map:982402,menu_result_event_once_a_day_dungeon_retry:982450,menu_result_event_once_a_day_dungeon_to_map:982451,menu_result_daily_dungeon_retry:982500,menu_result_daily_dungeon_to_map:982501,menu_result_raid_boss_retry:982600,menu_result_raid_boss_boss_list:982601,menu_result_raid_boss_raid_main:982602,menu_result_raid_boss_event_dungeon_main:982603,menu_result_raid_boss_call_next_level_boss:982604,menu_result_great_wall_dungeon_retry:982700,menu_result_great_wall_dungeon_to_map:982701,menu_result_mussang_tower_to_map:982800,menu_result_world_war_to_map:982801,menu_result_world_war_to_main:982802,game_over_win:983e3,game_over_lose:983001,game_over_lose_continue:983002,game_over_lose_continue_confirm:983003,weekly_game_over_win:986e3,weekly_game_over_lose:986001,weekly_result_ok:986002,mussang_step_game_over_win:987e3,mussang_step_game_over_lose:987001,mussang_step_result_ok:987002,event_dungeon_game_over_win:989e3,event_dungeon_game_over_lose:989001,event_dungeon_game_result_ok:989002,event_once_a_day_dungeon_game_over_win:989050,event_once_a_day_dungeon_game_over_lose:989051,event_once_a_day_dungeon_game_result_ok:989052,great_wall_dungeon_game_over_win:989100,great_wall_dungeon_game_over_lose:989101,great_wall_dungeon_game_result_ok:989102,daily_dungeon_game_over_result:99e4,daily_dungeon_game_result_ok:990001,raid_boss_game_over_result:991e3,raid_boss_game_over_for_battle_skip:991001,raid_boss_get_user_damage:991002,mussang_tower_game_over_win:991100,mussang_tower_game_over_lose:991101,mussang_tower_game_over_result_ok:991102,mussang_tower_game_over_tomap:991103,mussang_boss_game_over_win:991200,mussang_boss_game_over_lose:991201,mussang_boss_game_over_result:991202,world_war_npc_dungeon_game_over_win:991300,world_war_npc_dungeon_game_ove_lose:991301,world_war_npc_dungeon_game_over_timeout:991302,world_war_npc_dungeon_result_ok:991303,prologue_game_over_lose:991203,gain_item_add_count:984e3,disable_pvp_skill_slot:984001,auto_play_limit_general_end:984002,auto_play_limit_heart_end:984003,auto_play_battle_lose_end:984004,auto_play_on_msg:984005,auto_play_off_msg:984006,skip_script:985e3,show_not_enough_jade:985001,supporter_friend_request:985002,event_raid_dungeon_game_over_win:991500,event_raid_dungeon_game_over_lose:991501,event_raid_dungeon_game_over_timeout:991502,event_raid_dungeon_game_over_for_battle_skip:991503,message_ok:991504,raid_dungeon_start:991505},BattleState={GameReady:0,GameAppear:1,GameCounting:2,GameStart:3,GamePlaying:4,GameLeftDeathWait:5,GameRightDeathWait:6,GameRightCutinClearWait:7,GameRightTimeOutWait:8,GameRightAwayWait:9,GameAllDeathWait:10,GameTimeOut:11,GameWait:12,GameBackCourt:13,GameDailyBackCourt:14,GameEventCutinBackCourt:15,GameWorldWarNpcDungeonBackCourt:16,GameWait_Trasition:17,GameNextMoving:18,GameVSShow:19,GameAppearEnemy:20,GameBattleRestart:21,GamePause:22,GameOver:23,GameOver_Winner:24,GameOver_Winner_Networking:25,GameOver_Loser:26,GameOver_Loser_Networking:27,GameRaidTimeOver:28,GameRaidFinish:29,GameWorldWarNpcDungeonTimeOver:30,GameMussangBossTimeOver:31,GameEventRaidTimeOver:32,GameStoryTimeOver:33},BattleAni_={EffectSakura:1,EffectFinger:2,EffectLevelUp:3,EffectResultWin:4,EffectResultLose:5,EffectResultStar_0:6,EffectResultStar_1:7,EffectResultStar_2:8,EffectResultStar_3:9,EffectUserLevelUp:10,EffectEmotion_1:11,EffectEmotion_2:12,EffectEmotion_3:13,EffectEmotion_4:14,EffectWinText:15,EffectDrawText:16,EffectCutinWarning:17,EffectCutinFailed:18,EffectResultDraw:19,EffectResultStarSkip_0:20,EffectResultStarSkip_1:21,EffectResultStarSkip_2:22,EffectResultStarSkip_3:23},AutoPlayConfig={LIMIT_GENERAL_END:1,BATTLE_LOSE_END:2};